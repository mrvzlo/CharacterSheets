(function(e){function t(t){for(var n,s,r=t[0],o=t[1],l=t[2],h=0,u=[];h<r.length;h++)s=r[h],Object.prototype.hasOwnProperty.call(c,s)&&c[s]&&u.push(c[s][0]),c[s]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);d&&d(t);while(u.length)u.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,r=1;r<a.length;r++){var o=a[r];0!==c[o]&&(n=!1)}n&&(i.splice(t--,1),e=s(s.s=a[0]))}return e}var n={},c={app:0},i=[];function s(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=n,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(a,n,function(t){return e[t]}.bind(null,n));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/DnDSheet/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],o=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var d=o;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},1:function(e,t){},"15cb":function(e,t,a){"use strict";a("bf5b")},2:function(e,t){},a940:function(e){e.exports=JSON.parse('[{"id":0,"short":"СИЛ","color":"ecc"},{"id":1,"short":"ЛОВ","color":"cec"},{"id":2,"short":"ВЫН","color":"eec"},{"id":3,"short":"ИНТ","color":"cce"},{"id":4,"short":"МУД","color":"cee"},{"id":5,"short":"ХАР","color":"ece"}]')},b757:function(e){e.exports=JSON.parse('[{"id":1,"name":"Бард","bone":"8"},{"id":2,"name":"Варвар","bone":"12"},{"id":3,"name":"Воин","bone":"10"},{"id":4,"name":"Волшебник","bone":"6"},{"id":5,"name":"Друид","bone":"8"},{"id":6,"name":"Жрец","bone":"8"},{"id":7,"name":"Колдун","bone":"8"},{"id":8,"name":"Монах","bone":"8"},{"id":9,"name":"Паладин","bone":"10"},{"id":10,"name":"Плут","bone":"8"},{"id":11,"name":"Следопыт","bone":"10"},{"id":12,"name":"Чародей","bone":"6"}]')},ba07:function(e){e.exports=JSON.parse('[{"id":0,"type":0,"attribute":0,"name":"Спасбросок"},{"id":1,"type":0,"attribute":1,"name":"Спасбросок"},{"id":2,"type":0,"attribute":2,"name":"Спасбросок"},{"id":3,"type":0,"attribute":3,"name":"Спасбросок"},{"id":4,"type":0,"attribute":4,"name":"Спасбросок"},{"id":5,"type":0,"attribute":5,"name":"Спасбросок"},{"id":6,"type":10,"attribute":1,"name":"Акробатика"},{"id":9,"type":13,"attribute":0,"name":"Атлетика"},{"id":14,"type":18,"attribute":3,"name":"Анализ"},{"id":17,"type":21,"attribute":4,"name":"Внимательность"},{"id":21,"type":25,"attribute":4,"name":"Выживание"},{"id":18,"type":22,"attribute":5,"name":"Выступление"},{"id":13,"type":17,"attribute":5,"name":"Запугивание"},{"id":11,"type":15,"attribute":3,"name":"История"},{"id":20,"type":24,"attribute":1,"name":"Ловкость рук"},{"id":8,"type":12,"attribute":3,"name":"Магия"},{"id":15,"type":19,"attribute":4,"name":"Медицина"},{"id":10,"type":14,"attribute":5,"name":"Обман"},{"id":12,"type":16,"attribute":4,"name":"Проницательность"},{"id":16,"type":20,"attribute":3,"name":"Природа"},{"id":19,"type":23,"attribute":5,"name":"Убеждение"},{"id":7,"type":11,"attribute":4,"name":"Уход за животными"},{"id":22,"type":26,"attribute":1,"name":"Скрытность"},{"id":23,"type":27,"attribute":3,"name":"Религия"}]')},bf5b:function(e,t,a){},cd49:function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("7a23"),c={class:"d-flex flex-column vh-100 position-relative"};function i(e,t,a,i,s,r){var o=Object(n["k"])("character");return Object(n["i"])(),Object(n["d"])("div",c,[Object(n["h"])(o)])}var s={class:"d-flex justify-content-center bg-primary p-2"},r={class:"col-12 col-lg-9 col-xl-7 px-0 mx-auto flex-grow-1"},o={key:1,class:"text-center row justify-content-center mx-0"},l={key:2,class:"text-center d-flex flex-column h-100"},d={key:0,class:"position-fixed end-0 bottom-0 op-50"},h={class:"text-center small text-secondary py-1 border-top"};function u(e,t,a,c,i,u){var b=Object(n["k"])("header-message"),p=Object(n["k"])("main-info"),v=Object(n["k"])("attributes-list"),m=Object(n["k"])("inventory"),f=Object(n["k"])("footer-menu");return Object(n["i"])(),Object(n["d"])(n["a"],null,[Object(n["h"])(b,{model:i.headerMessage},null,8,["model"]),Object(n["h"])("div",s,[(Object(n["i"])(),Object(n["d"])(n["a"],null,Object(n["j"])(5,(function(e){return Object(n["h"])("div",{key:e,class:"mx-3 btn "+(i.tab!=e?"btn-primary":"btn-light"),onClick:function(t){return i.tab=e}},[Object(n["h"])("i",{class:"fas fa-fw fa-"+i.icons[e-1]},null,2)],10,["onClick"])})),64))]),Object(n["h"])("div",r,[1==i.tab?(Object(n["i"])(),Object(n["d"])(p,{key:0,character:i.character,headerMessage:i.headerMessage},null,8,["character","headerMessage"])):Object(n["e"])("",!0),2==i.tab?(Object(n["i"])(),Object(n["d"])("div",o,[Object(n["h"])(v,{character:i.character},null,8,["character"])])):Object(n["e"])("",!0),3==i.tab?(Object(n["i"])(),Object(n["d"])("div",l,[Object(n["h"])(m,{character:i.character},null,8,["character"])])):Object(n["e"])("",!0),5==i.tab?(Object(n["i"])(),Object(n["d"])(f,{key:3,character:i.character,saveService:i.saveService},null,8,["character","saveService"])):Object(n["e"])("",!0)]),i.character.settings.locked&&i.tab<3?(Object(n["i"])(),Object(n["d"])("div",d,[Object(n["h"])("i",{class:"fas fa-lock fa-2x m-2",onClick:t[1]||(t[1]=function(e){return i.tab=5})})])):Object(n["e"])("",!0),Object(n["h"])("div",h,"D&D 5e лист персонажа "+Object(n["l"])(i.version)+" by AndrejevVE",1)],64)}var b,p=a("d4ec"),v=a("bee2"),m=(a("b0c0"),a("159b"),a("a434"),a("4de4"),a("7db0"),function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;Object(p["a"])(this,e),this.knowledge=0,this.id=t}return Object(v["a"])(e,[{key:"get",value:function(e,t){return t+e*this.knowledge}},{key:"inc",value:function(){this.knowledge=(this.knowledge+1)%3}},{key:"level",get:function(){switch(this.knowledge){case 0:return"far fa-circle";case 1:return"fas fa-dot-circle";case 2:return"fas fa-circle"}return""}},{key:"name",get:function(){var e,t,a=this;return null!==(e=null===(t=this.all.find((function(e){return e.id==a.id})))||void 0===t?void 0:t.name)&&void 0!==e?e:""}},{key:"type",get:function(){var e,t,a=this;return null!==(e=null===(t=this.all.find((function(e){return e.id==a.id})))||void 0===t?void 0:t.type)&&void 0!==e?e:0}},{key:"all",get:function(){return a("ba07")}}]),e}()),f=function(){function e(t){Object(p["a"])(this,e),this.value=10,this.checks=[],this.type=t}return Object(v["a"])(e,[{key:"bonus",get:function(){return Math.floor(this.value/2)-5}},{key:"getChecks",value:function(e){return this.checks.filter((function(t){return t.type===e}))}},{key:"skillChecks",get:function(){return this.checks.filter((function(e){return e.type>=10}))}},{key:"addCheck",value:function(e){this.checks.push(new m(e))}},{key:"name",get:function(){var e,t,a=this;return null!==(e=null===(t=this.all.find((function(e){return e.id==a.type})))||void 0===t?void 0:t.short)&&void 0!==e?e:""}},{key:"color",get:function(){var e,t,a=this;return null!==(e=null===(t=this.all.find((function(e){return e.id==a.type})))||void 0===t?void 0:t.color)&&void 0!==e?e:""}},{key:"all",get:function(){return a("a940")}}]),e}(),j=a("262e"),O=a("2caf"),g=a("9072"),y=function(e){Object(j["a"])(a,e);var t=Object(O["a"])(a);function a(e){var n;return Object(p["a"])(this,a),n=t.call(this),n.ctor=e,n}return Object(v["a"])(a,[{key:"pushNew",value:function(){this.push(new this.ctor)}}]),a}(Object(g["a"])(Array));(function(e){e[e["Unknown"]=0]="Unknown",e[e["Bard"]=1]="Bard",e[e["Barbarian"]=2]="Barbarian",e[e["Fighter"]=3]="Fighter",e[e["Wizard"]=4]="Wizard",e[e["Druid"]=5]="Druid",e[e["Cleric"]=6]="Cleric",e[e["Warlock"]=7]="Warlock",e[e["Monk"]=8]="Monk",e[e["Paladin"]=9]="Paladin",e[e["Rogue"]=10]="Rogue",e[e["Ranger"]=11]="Ranger",e[e["Sorcerer"]=12]="Sorcerer"})(b||(b={}));var k=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b.Unknown;Object(p["a"])(this,e),this.type=t}return Object(v["a"])(e,[{key:"name",get:function(){var e,t,a=this;return null!==(e=null===(t=this.all.find((function(e){return e.id==a.type})))||void 0===t?void 0:t.name)&&void 0!==e?e:""}},{key:"bone",get:function(){var e,t,a=this;return null!==(e=null===(t=this.all.find((function(e){return e.id==a.type})))||void 0===t?void 0:t.bone)&&void 0!==e?e:0}},{key:"all",get:function(){return a("b757")}}]),e}(),x=(a("13d5"),function(){function e(){Object(p["a"])(this,e),this.name="",this.count=1,this.weight=0,this.delete=!1}return Object(v["a"])(e,[{key:"toggleDeleteMode",value:function(e){this.delete=e}}]),e}()),w=function(){function e(){Object(p["a"])(this,e),this.name="",this.capacity=30,this.inner=new y(x),this.delete=!1}return Object(v["a"])(e,[{key:"weight",get:function(){var e=this.inner.reduce((function(e,t){return e+t.count*t.weight}),0);return e}},{key:"addItem",value:function(){this.inner.pushNew()}},{key:"toggleDeleteMode",value:function(e){this.delete=e,this.inner.forEach((function(t){return t.toggleDeleteMode(e)}))}},{key:"confirmDelete",value:function(){for(var e=0;e<this.inner.length;e++)this.inner[e].delete&&(this.inner.splice(e,1),e--)}}]),e}(),S=function e(){Object(p["a"])(this,e),this.characterIsLocked=!1,this.autoSavesEnabled=!0,this.autoSavesInterval=6e5},D=function(){function e(){var t=this;Object(p["a"])(this,e),this.name="",this.race="",this.story="",this.level=1,this.size=2,this.alignment=4,this.speed=30,this.armor=10,this.initiative=0,this.masterInspiration=!1,this.bardInspiration=0,this.health=8,this.healthMax=8,this.healthBonus=0,this.healthBoneValue=8,this.healthBones=1,this.attributes=[],this.class=new k,this.settings=new S,this.inventory=new y(w);for(var a=0;a<6;a++)this.attributes.push(new f(a));(new m).all.forEach((function(e){t.attributes[e.attribute].addCheck(e.id)}))}return Object(v["a"])(e,[{key:"proficiency",get:function(){return Math.floor((this.level-1)/4)+2}},{key:"addContainer",value:function(){this.inventory.pushNew()}},{key:"longRest",value:function(){this.health=this.healthMax,this.healthBones=this.level}},{key:"clearInventory",value:function(){for(var e=0;e<this.inventory.length;e++)this.inventory[e].delete&&(this.inventory.splice(e,1),e--);this.inventory.forEach((function(e){return e.confirmDelete()}))}}]),e}(),C=a("53ca"),M=(a("b64b"),a("8017")),N=a.n(M),I=function(){function e(){Object(p["a"])(this,e),this.dict=[],this.dict.push('{"knowledge":'),this.dict.push(',"id":'),this.dict.push(',"type":'),this.dict.push('{"value":'),this.dict.push(',"checks":['),this.dict.push(',"inventory":['),this.dict.push('{"name":'),this.dict.push(',"capacity":'),this.dict.push("health")}return Object(v["a"])(e,[{key:"compress",value:function(e){var t=JSON.stringify(e);return t?(this.dict.forEach((function(e,a){t=t.replaceAll(e,String.fromCharCode(a+1))})),t):""}},{key:"decompress",value:function(e){return this.dict.forEach((function(t,a){e=e.replaceAll(String.fromCharCode(a+1),t)})),JSON.parse(e)}},{key:"encode64",value:function(e){var t=this.compress(e),a=N.a.encodeUTF8(t),n=N.a.encodeBase64(a);return n}},{key:"encode256",value:function(e){var t=this.compress(e),a=N.a.encodeUTF8(t),n=N.a.encodeStorageBinaryString(a);return n}},{key:"decode64",value:function(e){var t=N.a.decodeBase64(e),a=N.a.decodeUTF8(t),n=this.decompress(a);return this.parse(n,new D)}},{key:"decode256",value:function(e){var t=N.a.decodeStorageBinaryString(e),a=N.a.decodeUTF8(t),n=this.decompress(a),c=this.parse(n,new D);return c}},{key:"parse",value:function(e,t){var a=this;if("object"!==Object(C["a"])(e)||null===e)return e;while(Array.isArray(e)&&t.length<e.length)t.pushNew();return Object.keys(e).forEach((function(n){"ctor"!=n&&(t[n]=a.parse(e[n],t[n]))})),t}}]),e}(),V=function(){function e(){Object(p["a"])(this,e),this.text="",this.icon="",this.color="",this.show=!1}return Object(v["a"])(e,[{key:"closeHeader",value:function(){this.show=!1}},{key:"showHeader",value:function(e){var t=this;this.text=e,this.show=!0,setTimeout((function(){return t.closeHeader()}),3e3)}},{key:"showError",value:function(e){this.showHeader(e),this.icon="fas fa-exclamation-triangle",this.color="bg-danger"}},{key:"showSuccess",value:function(e){this.showHeader(e),this.icon="fas fa-thumbs-up",this.color="bg-success"}}]),e}(),U={class:"text-center bg-white py-2"},B={class:"my-3"},T=Object(n["g"])(" Редактирование персонажа "),A={class:"btn btn-warning"},E={class:"btn border-warning col-6"},P=Object(n["h"])("div",{class:"btn btn-warning"},[Object(n["h"])("i",{class:"fa-fw fas"}," ")],-1),H={class:"my-3"},R={class:"btn btn-info"},z={class:"btn border-info col-6"},_=Object(n["h"])("div",{class:"btn btn-info"},[Object(n["h"])("i",{class:"fa-fw fas"}," ")],-1),F=Object(n["f"])('<div class="my-5"></div><div class="btn-group d-block my-3" data-bs-toggle="modal" data-bs-target="#saveModal"><div class="btn btn-success"><i class="fas fa-fw fa-save"></i></div><div class="btn border-success col-6"> Сохранения </div><div class="btn btn-success"><i class="fa-fw fas"> </i></div></div><div class="btn-group d-block my-3" data-bs-toggle="modal" data-bs-target="#reloadModal"><div class="btn btn-danger"><i class="fas fa-fw fa-redo"></i></div><div class="btn border-danger col-6"> Загрузка </div><div class="btn btn-danger"><i class="fa-fw fas"> </i></div></div><div class="btn-group d-block my-3" data-bs-toggle="modal" data-bs-target="#importModal"><div class="btn btn-info"><i class="fas fa-fw fa-download"></i></div><div class="btn border-info col-6"> Импорт строки </div><div class="btn btn-info"><i class="fa-fw fas"> </i></div></div><div class="btn-group d-block my-3" data-bs-toggle="modal" data-bs-target="#exportModal"><div class="btn btn-info"><i class="fas fa-fw fa-upload"></i></div><div class="btn border-info col-6"> Экспорт строки </div><div class="btn btn-info"><i class="fa-fw fas"> </i></div></div>',5);function J(e,t,a,c,i,s){var r=Object(n["k"])("export-modal"),o=Object(n["k"])("save-modal"),l=Object(n["k"])("import-modal"),d=Object(n["k"])("reload-modal");return Object(n["i"])(),Object(n["d"])(n["a"],null,[Object(n["h"])("div",U,[Object(n["h"])("div",B,[T,Object(n["h"])("div",{class:"btn-group d-block",onClick:t[1]||(t[1]=function(){return s.lock&&s.lock.apply(s,arguments)})},[Object(n["h"])("div",A,[Object(n["h"])("i",{class:"fas fa-fw "+(a.character.settings.locked?"fa-unlock":"fa-lock")},null,2)]),Object(n["h"])("div",E,Object(n["l"])(a.character.settings.locked?"Разблокировать":"Заблокировать"),1),P])]),Object(n["h"])("div",H,[Object(n["g"])(" Автосохранения (каждые "+Object(n["l"])(a.character.settings.autoSavesInterval/6e4)+" минут) ",1),Object(n["h"])("div",{class:"btn-group d-block",onClick:t[2]||(t[2]=function(){return s.toggleAutoSave&&s.toggleAutoSave.apply(s,arguments)})},[Object(n["h"])("div",R,[Object(n["h"])("i",{class:"fas fa-fw "+(a.character.settings.autoSavesEnabled?"fa-stop-circle":"fa-play-circle")},null,2)]),Object(n["h"])("div",z,Object(n["l"])(a.character.settings.autoSavesEnabled?"Отключить":"Включить"),1),_])]),F]),Object(n["h"])(r,{character:a.character},null,8,["character"]),Object(n["h"])(o,{character:a.character,saveService:a.saveService},null,8,["character","saveService"]),Object(n["h"])(l),Object(n["h"])(d,{saveService:a.saveService},null,8,["saveService"])],64)}var W={class:"modal fade",id:"exportModal"},$={class:"modal-dialog"},L={class:"modal-content"},q=Object(n["h"])("div",{class:"modal-header"},[Object(n["h"])("h5",{class:"modal-title"},"Экспортировать персонажа"),Object(n["h"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1),G={class:"modal-body"},K={class:"modal-footer"},Q=Object(n["h"])("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Закрыть ",-1);function X(e,t,a,c,i,s){return Object(n["i"])(),Object(n["d"])("div",W,[Object(n["h"])("div",$,[Object(n["h"])("div",L,[q,Object(n["h"])("div",G,[Object(n["h"])("textarea",{value:s.exportStr(),class:"form-control",readonly:"",rows:"10"},null,8,["value"])]),Object(n["h"])("div",K,[Object(n["h"])("button",{type:"button",class:"btn btn-primary",onClick:t[1]||(t[1]=function(){return s.copy&&s.copy.apply(s,arguments)})}," Скопировать "),Q])])])])}var Y={name:"export-modal",props:{character:D},methods:{exportStr:function(){return this.encoder.encode64(this.character)},copy:function(){var e=this,t=this.exportStr();document.addEventListener("copy",(function(a){a.clipboardData.setData("text/plain",t),a.preventDefault(),document.removeEventListener("copy",e.event)})),document.execCommand("copy")}},created:function(){this.encoder=new I}};Y.render=X;var Z=Y,ee={class:"modal fade",id:"importModal"},te={class:"modal-dialog"},ae={class:"modal-content"},ne=Object(n["h"])("div",{class:"modal-header"},[Object(n["h"])("h5",{class:"modal-title"},"Загрузить сохранение"),Object(n["h"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1),ce={class:"modal-body"},ie={class:"modal-footer"},se=Object(n["h"])("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Закрыть ",-1);function re(e,t,a,c,i,s){return Object(n["i"])(),Object(n["d"])("div",ee,[Object(n["h"])("div",te,[Object(n["h"])("div",ae,[ne,Object(n["h"])("div",ce,[Object(n["p"])(Object(n["h"])("textarea",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return i.importData=e}),class:"form-control",rows:"10"},null,512),[[n["n"],i.importData]])]),Object(n["h"])("div",ie,[Object(n["h"])("button",{type:"button",class:"btn btn-primary",onClick:t[2]||(t[2]=function(){return s.importStr&&s.importStr.apply(s,arguments)}),"data-bs-dismiss":"modal"}," Загрузить "),se])])])])}var oe={name:"import-modal",props:{character:D},data:function(){return{importData:""}},methods:{importStr:function(){return this.$parent.importCharacter(this.importData,64)}}};oe.render=re;var le=oe,de={class:"modal fade",id:"reloadModal"},he={class:"modal-dialog"},ue={class:"modal-content"},be=Object(n["h"])("div",{class:"modal-header"},[Object(n["h"])("h5",{class:"modal-title"},"Загрузить персонажа"),Object(n["h"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1),pe={class:"modal-body py-0"},ve={class:"my-3 d-flex rounded position-relative"},me=Object(n["h"])("div",{class:"mt-3 text-center"},"Автосохранение",-1),fe={class:"my-3 d-flex rounded position-relative"},je=Object(n["h"])("div",{class:"mt-3 text-center"},"Слоты сохранений",-1),Oe={class:"modal-footer"},ge=Object(n["h"])("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Закрыть ",-1);function ye(e,t,a,c,i,s){return Object(n["i"])(),Object(n["d"])("div",de,[Object(n["h"])("div",he,[Object(n["h"])("div",ue,[be,Object(n["h"])("div",pe,[Object(n["h"])("div",ve,[Object(n["h"])("div",{class:"rounded border p-1 text-center w-100 "+(10==i.selected?"bg-dark text-white":""),onClick:t[1]||(t[1]=function(e){return i.selected=10==i.selected?-1:10})}," Новый персонаж ",2)]),me,Object(n["h"])("div",fe,[Object(n["h"])("div",{class:"rounded border p-1 flex-grow-1 "+(0==i.selected?"bg-dark text-white":""),onClick:t[2]||(t[2]=function(e){return i.selected=0==i.selected?-1:0})},Object(n["l"])(s.savedName(0)),3)]),je,(Object(n["i"])(),Object(n["d"])(n["a"],null,Object(n["j"])(3,(function(e){return Object(n["h"])("div",{key:e,class:"my-3 d-flex rounded position-relative"},[Object(n["h"])("div",{class:"rounded border p-1 flex-grow-1 "+(e==i.selected?"bg-dark text-white":""),onClick:function(t){return i.selected=i.selected==e?-1:e}},Object(n["l"])(e)+" - "+Object(n["l"])(s.savedName(e)),11,["onClick"])])})),64))]),Object(n["h"])("div",Oe,[i.selected>=0?(Object(n["i"])(),Object(n["d"])("button",{key:0,type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",onClick:t[3]||(t[3]=function(){return s.load&&s.load.apply(s,arguments)})}," Загрузить ")):Object(n["e"])("",!0),ge])])])])}a("a9e3");var ke=function(){function e(t){switch(Object(p["a"])(this,e),t){case 1:return this.value=localStorage.save1,this.name=localStorage.save1Name,void(this.datetime=localStorage.save1Date);case 2:return this.value=localStorage.save2,this.name=localStorage.save2Name,void(this.datetime=localStorage.save2Date);case 3:return this.value=localStorage.save3,this.name=localStorage.save3Name,void(this.datetime=localStorage.save3Date);default:return this.value=localStorage.autoSave,this.name=localStorage.autoSaveName,void(this.datetime=localStorage.autoSaveDate)}}return Object(v["a"])(e,[{key:"setData",value:function(e,t,a){switch(this.value=e,this.name=t,this.datetime=new Date,a){case 1:return localStorage.save1=this.value,localStorage.save1Name=this.name,void(localStorage.save1Date=this.datetime);case 2:return localStorage.save2=this.value,localStorage.save2Name=this.name,void(localStorage.save2Date=this.datetime);case 3:return localStorage.save3=this.value,localStorage.save3Name=this.name,void(localStorage.save3Date=this.datetime);default:return localStorage.autoSave=this.value,localStorage.autoSaveName=this.name,void(localStorage.autoSaveDate=this.datetime)}}}]),e}(),xe=function(){function e(){Object(p["a"])(this,e),this.encoder=new I,this.saveSlots=[];for(var t=0;t<4;t++)this.saveSlots.push(new ke(t))}return Object(v["a"])(e,[{key:"importCharacter",value:function(e,t,a){if(0==t||!this.isValid(e))return new D;try{var n=64==t?this.encoder.decode64(e):this.encoder.decode256(e);return n}catch(c){return a.showError("Ошибка загрузки"),new D}}},{key:"hasSave",value:function(e){return this.isValid(this.getSave(e).value)}},{key:"getSave",value:function(e){return this.saveSlots[e]}},{key:"isValid",value:function(e){return!!e&&"null"!==e}},{key:"applySave",value:function(e,t){var a=this.encoder.encode256(e);0===e.name.length&&(e.name="Неизвестный"),this.saveSlots[t].setData(a,e.name,t)}},{key:"deleteSave",value:function(e){this.saveSlots[e].setData("","",e)}},{key:"savedName",value:function(e){if(!this.hasSave(e))return"Свободный слот";var t=this.getSave(e);return t.name+" - "+this.dateFormat(t.datetime)}},{key:"dateFormat",value:function(e){if(!e)return"";var t=new Date(e);return this.formatTwoDigits(t.getDate())+"."+this.formatTwoDigits(1+t.getMonth())+" "+this.formatTwoDigits(t.getHours())+":"+this.formatTwoDigits(t.getMinutes())}},{key:"formatTwoDigits",value:function(e){return e>9?e:"0"+e}}]),e}(),we={name:"reload-modal",props:{saveService:xe},data:function(){return{importData:"",selected:Number}},methods:{hasSave:function(e){return this.saveService.hasSave(e)},load:function(){if(10==this.selected)return this.clearSave();var e=this.saveService.getSave(this.selected).value;this.$parent.importCharacter(e,256)},clearSave:function(){this.$parent.importCharacter(null,0)},savedName:function(e){return this.saveService.savedName(e)}},created:function(){this.selected=-1}};we.render=ye;var Se=we,De={class:"modal fade",id:"saveModal"},Ce={class:"modal-dialog"},Me={class:"modal-content"},Ne=Object(n["h"])("div",{class:"modal-header"},[Object(n["h"])("h5",{class:"modal-title"},"Сохранить персонажа"),Object(n["h"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1),Ie={class:"modal-body py-0"},Ve=Object(n["h"])("div",{class:"mt-3 text-center"},"Автосохранение",-1),Ue={class:"my-3 d-flex rounded position-relative"},Be=Object(n["h"])("div",{class:"mt-3 text-center"},"Слоты сохранений",-1),Te=Object(n["h"])("i",{class:"fas fa-times"},null,-1),Ae={class:"modal-footer"},Ee=Object(n["h"])("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Закрыть ",-1);function Pe(e,t,a,c,i,s){return Object(n["i"])(),Object(n["d"])("div",De,[Object(n["h"])("div",Ce,[Object(n["h"])("div",Me,[Ne,Object(n["h"])("div",Ie,[Ve,Object(n["h"])("div",Ue,[Object(n["h"])("div",{class:"rounded border p-1 flex-grow-1 "+(0==i.selected?"bg-dark text-white":""),onClick:t[1]||(t[1]=function(e){return i.selected=0==i.selected?-1:0})},Object(n["l"])(s.savedName(0)),3)]),Be,(Object(n["i"])(),Object(n["d"])(n["a"],null,Object(n["j"])(3,(function(e){return Object(n["h"])("div",{key:e,class:"my-3 d-flex rounded position-relative"},[Object(n["h"])("div",{class:"rounded border p-1 flex-grow-1 "+(e==i.selected?"bg-dark text-white":""),onClick:function(t){return i.selected=i.selected==e?-1:e}},Object(n["l"])(e)+" - "+Object(n["l"])(s.savedName(e)),11,["onClick"]),s.hasSave(e)?(Object(n["i"])(),Object(n["d"])("button",{key:0,type:"button",class:"btn btn-danger position-absolute end-0 bottom-0 top-0 border-dark",onClick:function(t){return s.deleteSave(e)}},[Te],8,["onClick"])):Object(n["e"])("",!0)])})),64))]),Object(n["h"])("div",Ae,[i.selected>=0?(Object(n["i"])(),Object(n["d"])("button",{key:0,type:"button",class:"btn btn-success",onClick:t[2]||(t[2]=function(){return s.save&&s.save.apply(s,arguments)})}," Сохранить ")):Object(n["e"])("",!0),Ee])])])])}var He={name:"save-modal",props:{character:D,saveService:xe},data:function(){return{selected:Number}},methods:{hasSave:function(e){return this.saveService.hasSave(e)},save:function(){this.saveService.applySave(this.character,this.selected),this.selected=-1},deleteSave:function(e){this.saveService.deleteSave(e),this.selected=-1},savedName:function(e){return this.saveService.savedName(e)}},created:function(){this.selected=-1}};He.render=Pe;var Re=He,ze={name:"footer-menu",props:{character:D,saveService:xe},methods:{lock:function(){Object.assign(this.character.settings,{locked:!this.character.settings.locked})},toggleAutoSave:function(){Object.assign(this.character.settings,{autoSavesEnabled:!this.character.settings.autoSavesEnabled})},importCharacter:function(e,t){return this.$parent.importCharacter(e,t)}},components:{exportModal:Z,importModal:le,reloadModal:Se,saveModal:Re}};ze.render=J;var _e=ze,Fe={class:"position-fixed top-0 start-0 w-100 p-2 text-center message"},Je={class:"d-flex justify-content-center"},We={class:"toast-body text-center"};function $e(e,t,a,c,i,s){return Object(n["i"])(),Object(n["d"])("div",Fe,[Object(n["h"])(n["b"],{name:"fade"},{default:Object(n["o"])((function(){return[a.model.show?(Object(n["i"])(),Object(n["d"])("div",{key:0,class:"text-white rounded "+a.model.color},[Object(n["h"])("div",Je,[Object(n["h"])("i",{class:"m-auto ms-3 "+a.model.icon},null,2),Object(n["h"])("div",We,Object(n["l"])(a.model.text),1),Object(n["h"])("button",{type:"button",class:"btn-close m-auto me-2 btn-close-white",onClick:t[1]||(t[1]=function(){return s.close&&s.close.apply(s,arguments)})})])],2)):Object(n["e"])("",!0)]})),_:1})])}var Le={name:"header-message",props:{model:V},methods:{close:function(){this.model.closeHeader()}},watch:{model:function(){this.getData()}}};Le.render=$e;var qe=Le,Ge={class:"flex-grow-1"},Ke={class:"row justify-content-center mx-0"},Qe={key:0},Xe=Object(n["h"])("i",{class:"fas fa-plus-circle me-2"},null,-1),Ye=Object(n["g"])(" Добавить "),Ze=Object(n["h"])("i",{class:"fas fa-trash me-2"},null,-1),et=Object(n["g"])(" Удалить "),tt={key:1},at=Object(n["h"])("i",{class:"fas fa-trash me-2"},null,-1),nt=Object(n["g"])(" Удалить "),ct=Object(n["h"])("i",{class:"fas fa-times me-2"},null,-1),it=Object(n["g"])(" Отмена ");function st(e,t,a,c,i,s){var r=this,o=Object(n["k"])("container");return Object(n["i"])(),Object(n["d"])(n["a"],null,[Object(n["h"])("div",Ge,[Object(n["h"])("div",Ke,[(Object(n["i"])(!0),Object(n["d"])(n["a"],null,Object(n["j"])(a.character.inventory,(function(e,t){return Object(n["i"])(),Object(n["d"])("div",{class:"col-12 col-md-6 my-2",key:t},[Object(n["h"])(o,{character:a.character,container:e,index:t,deleteMode:i.deleteMode},null,8,["character","container","index","deleteMode"])])})),128))])]),i.deleteMode?Object(n["e"])("",!0):(Object(n["i"])(),Object(n["d"])("div",Qe,[Object(n["h"])("button",{class:"btn btn-success m-2",onClick:t[1]||(t[1]=function(){return s.addContainer&&s.addContainer.apply(s,arguments)})},[Xe,Ye]),Object(n["h"])("button",{class:"btn btn-danger m-2 pe-3",onClick:t[2]||(t[2]=function(){return s.openDeleteMode&&s.openDeleteMode.apply(s,arguments)}),disabled:!a.character.inventory.length},[Ze,et],8,["disabled"])])),i.deleteMode?(Object(n["i"])(),Object(n["d"])("div",tt,[Object(n["h"])("button",{class:"btn btn-danger m-2 pe-3",onClick:t[3]||(t[3]=function(){return s.confirmDelete&&s.confirmDelete.apply(s,arguments)})},[at,nt]),Object(n["h"])("button",{class:"btn btn-secondary m-2 pe-3",onClick:t[4]||(t[4]=function(e){return r.deleteMode=!1})},[ct,it])])):Object(n["e"])("",!0)],64)}var rt={class:"card border"},ot={class:"card-header border-bottom d-flex justify-content-between px-1 bg-primary text-white"},lt=Object(n["h"])("i",{class:"fas fa-eye text-white pt-1 my-1 ps-2 pe-3"},null,-1),dt={class:"flex-grow-1"},ht={key:0,class:"d-flex"},ut=Object(n["h"])("span",{class:"py-1"},"/",-1),bt={key:1,class:"block light m-1"},pt={key:0,class:"fas fa-times"},vt={class:"text-start mt-2"},mt=Object(n["h"])("i",{class:"fas fa-plus-circle"},null,-1);function ft(e,t,a,c,i,s){var r=Object(n["k"])("item");return Object(n["i"])(),Object(n["d"])("div",rt,[Object(n["h"])("div",ot,[Object(n["h"])("div",{"data-bs-toggle":"collapse","data-bs-target":".collapse_"+a.index},[lt],8,["data-bs-target"]),Object(n["h"])("div",dt,[Object(n["p"])(Object(n["h"])("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=function(e){return i.name=e}),onChange:t[2]||(t[2]=function(){return s.setData&&s.setData.apply(s,arguments)}),class:"border-0 border-bottom border-white px-1 w-100 h-100 text-white bg-primary"},null,544),[[n["n"],i.name]])]),a.deleteMode?Object(n["e"])("",!0):(Object(n["i"])(),Object(n["d"])("div",ht,[Object(n["h"])("span",{class:"w-50px py-1 "+(a.container.weight>i.capacity?"text-danger":"")},Object(n["l"])(a.container.weight),3),ut,Object(n["p"])(Object(n["h"])("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=function(e){return i.capacity=e}),onChange:t[4]||(t[4]=function(){return s.setData&&s.setData.apply(s,arguments)}),class:"plain w-50px text-white",min:"0"},null,544),[[n["n"],i.capacity]])])),a.deleteMode?(Object(n["i"])(),Object(n["d"])("div",bt,[Object(n["h"])("div",{onClick:t[5]||(t[5]=function(){return s.toggleDelete&&s.toggleDelete.apply(s,arguments)}),class:"w-100 h-100"},[a.container.delete?(Object(n["i"])(),Object(n["d"])("i",pt)):Object(n["e"])("",!0)])])):Object(n["e"])("",!0)]),Object(n["h"])("div",{class:"card-body p-1 collapse show collapse_"+a.index},[(Object(n["i"])(!0),Object(n["d"])(n["a"],null,Object(n["j"])(a.container.inner,(function(e,t){return Object(n["i"])(),Object(n["d"])("div",{key:t},[Object(n["h"])(r,{item:e,index:t,container:a.container,deleteMode:a.deleteMode},null,8,["item","index","container","deleteMode"])])})),128)),Object(n["h"])("div",vt,[Object(n["h"])("button",{class:"btn btn-success p-1 btn-sm lh-0",onClick:t[6]||(t[6]=function(){return s.addItem&&s.addItem.apply(s,arguments)})},[mt])])],2)])}var jt={class:"d-flex my-1"},Ot={class:"hex light mt-1 mx-1"},gt={class:"block light mt-1 mx-1"},yt={key:0,class:"fas fa-times"};function kt(e,t,a,c,i,s){return Object(n["i"])(),Object(n["d"])("div",jt,[Object(n["h"])("div",Ot,[Object(n["p"])(Object(n["h"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return i.count=e}),class:"plain w-100",type:"number",min:"0",max:"999",onChange:t[2]||(t[2]=function(){return s.setData&&s.setData.apply(s,arguments)})},null,544),[[n["n"],i.count]])]),Object(n["p"])(Object(n["h"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return i.name=e}),class:"border-0 px-1 border-bottom flex-grow-1"},null,512),[[n["n"],i.name]]),Object(n["h"])("div",gt,[a.deleteMode?Object(n["e"])("",!0):Object(n["p"])((Object(n["i"])(),Object(n["d"])("input",{key:0,"onUpdate:modelValue":t[4]||(t[4]=function(e){return i.weight=e}),class:"plain w-100",type:"number",min:"0",max:"999",onChange:t[5]||(t[5]=function(){return s.setData&&s.setData.apply(s,arguments)})},null,544)),[[n["n"],i.weight]]),a.deleteMode?(Object(n["i"])(),Object(n["d"])("div",{key:1,onClick:t[6]||(t[6]=function(){return s.toggleDelete&&s.toggleDelete.apply(s,arguments)}),class:"w-100 h-100"},[a.item.delete||a.container.delete?(Object(n["i"])(),Object(n["d"])("i",yt)):Object(n["e"])("",!0)])):Object(n["e"])("",!0)])])}var xt={name:"container",props:{item:x,container:w,index:Number,deleteMode:Boolean},data:function(){return{name:String,count:Number,weight:Number,delete:Boolean}},methods:{getData:function(){this.name=this.item.name,this.count=this.item.count,this.weight=this.item.weight,this.delete=this.item.delete},setData:function(){Object.assign(this.item,{name:this.name}),Object.assign(this.item,{count:this.count}),Object.assign(this.item,{weight:this.weight}),Object.assign(this.item,{delete:this.delete})},toggleDelete:function(){this.delete=!this.delete,this.setData()}},watch:{item:{handler:function(){this.getData()},deep:!0,immediate:!0}},components:{}};xt.render=kt;var wt=xt,St={name:"container",props:{container:w,index:Number,deleteMode:Boolean},data:function(){return{name:String,capacity:Number,delete:Boolean}},methods:{getData:function(){this.name=this.container.name,this.capacity=this.container.capacity,this.delete=this.container.delete},setData:function(){Object.assign(this.container,{name:this.name}),Object.assign(this.container,{capacity:this.capacity}),Object.assign(this.container,{delete:this.delete})},addItem:function(){this.container.addItem()},toggleDelete:function(){this.delete=!this.delete,this.container.toggleDeleteMode(!0),this.setData()}},watch:{container:{handler:function(){this.getData()},deep:!0,immediate:!0}},components:{item:wt}};St.render=ft;var Dt=St,Ct={name:"inventory",props:{character:D},data:function(){return{deleteMode:!1}},methods:{getData:function(){},addContainer:function(){this.character.addContainer()},openDeleteMode:function(){this.deleteMode=!0,this.character.inventory.forEach((function(e){return e.toggleDeleteMode(!1)}))},confirmDelete:function(){this.deleteMode=!1,this.character.clearInventory()}},watch:{character:{handler:function(){this.getData()},deep:!0,immediate:!0}},components:{container:Dt}};Ct.render=st;var Mt,Nt,It=Ct,Vt={class:"col-3"},Ut={class:"col-9 px-0 d-flex flex-column justify-content-center"},Bt={class:"m-1 border"};function Tt(e,t,a,c,i,s){var r=Object(n["k"])("attribute"),o=Object(n["k"])("check");return Object(n["i"])(),Object(n["d"])(n["a"],null,[Object(n["h"])("div",Vt,[(Object(n["i"])(!0),Object(n["d"])(n["a"],null,Object(n["j"])(a.character.attributes,(function(e,t){return Object(n["i"])(),Object(n["d"])("div",{key:e.name},[Object(n["h"])(r,{character:a.character,attribute:e,index:t},null,8,["character","attribute","index"])])})),128))]),Object(n["h"])("div",Ut,[Object(n["h"])("div",Bt,[(Object(n["i"])(!0),Object(n["d"])(n["a"],null,Object(n["j"])(a.character.attributes,(function(e,t){return Object(n["i"])(),Object(n["d"])("div",{class:"text-start position-relative "+(t>0?"border-top":""),key:e.name},[(Object(n["i"])(!0),Object(n["d"])(n["a"],null,Object(n["j"])(e.checks,(function(t){return Object(n["i"])(),Object(n["d"])("div",{class:"p-small",key:t.name,style:t.type==i.checkType.Saving?"background-color: #"+e.color:""},[Object(n["h"])(o,{check:t,proficiency:a.character.proficiency,bonus:e.bonus,locked:a.character.settings.locked},null,8,["check","proficiency","bonus","locked"])],4)})),128))],2)})),128))])])],64)}(function(e){e[e["Strength"]=0]="Strength",e[e["Dexterity"]=1]="Dexterity",e[e["Constitution"]=2]="Constitution",e[e["Intelligence"]=3]="Intelligence",e[e["Wisdom"]=4]="Wisdom",e[e["Charisma"]=5]="Charisma"})(Mt||(Mt={})),function(e){e[e["Saving"]=0]="Saving",e[e["Acrobatics"]=10]="Acrobatics",e[e["AnimalHandling"]=11]="AnimalHandling",e[e["Arcana"]=12]="Arcana",e[e["Athletics"]=13]="Athletics",e[e["Deception"]=14]="Deception",e[e["History"]=15]="History",e[e["Insight"]=16]="Insight",e[e["Intimidation"]=17]="Intimidation",e[e["Investigation"]=18]="Investigation",e[e["Medicine"]=19]="Medicine",e[e["Nature"]=20]="Nature",e[e["Perception"]=21]="Perception",e[e["Performance"]=22]="Performance",e[e["Persuasion"]=23]="Persuasion",e[e["Religion"]=24]="Religion",e[e["SleightOfHand"]=25]="SleightOfHand",e[e["Stealth"]=26]="Stealth",e[e["Survival"]=27]="Survival"}(Nt||(Nt={}));var At={class:"d-flex"},Et={class:"my-2 mx-auto"},Pt={class:"hex gray"},Ht=Object(n["h"])("div",null,null,-1),Rt={class:"m-0"};function zt(e,t,a,c,i,s){return Object(n["i"])(),Object(n["d"])("div",At,[Object(n["h"])("div",Et,[Object(n["h"])("div",Pt,[Object(n["p"])(Object(n["h"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return i.attributeValue=e}),class:"plain w-100",type:"number",min:"1",max:"20",disabled:a.character.settings.locked,onChange:t[2]||(t[2]=function(){return s.setData&&s.setData.apply(s,arguments)})},null,40,["disabled"]),[[n["n"],i.attributeValue]])]),Object(n["h"])("div",{class:"border pt-3 pb-1 rounded-4 d-flex flex-column mt-n3 attribute",style:"background-color: #"+a.attribute.color},[Ht,Object(n["h"])("h1",Rt,Object(n["l"])(a.attribute.bonus),1),Object(n["g"])(" "+Object(n["l"])(a.attribute.name),1)],4)])])}var _t={name:"attribute-with-checks",props:{character:D,attribute:f,index:Number},data:function(){return{attributeValue:0}},methods:{setData:function(){Object.assign(this.attribute,{value:this.attributeValue})},getData:function(){this.attributeValue=this.attribute.value}},watch:{character:function(){this.getData()}},created:function(){this.getData()}};_t.render=zt;var Ft=_t,Jt={class:"bonus px-2"},Wt={key:0,class:"fw-bold small"};function $t(e,t,a,c,i,s){return Object(n["i"])(),Object(n["d"])("div",{class:"check px-2 d-inline",onClick:t[1]||(t[1]=function(e){return!a.locked&&a.clickable?a.check.inc():""})},[Object(n["h"])("div",{class:a.color+" "+a.check.level},null,2),Object(n["h"])("span",Jt,Object(n["l"])(a.check.get(a.proficiency,a.bonus)),1),Object(n["h"])("span",null,[Object(n["g"])(Object(n["l"])(a.check.name)+" ",1),a.check.type==e.checkType.Perception?(Object(n["i"])(),Object(n["d"])("span",Wt," ("+Object(n["l"])(10+a.check.get(a.proficiency,a.bonus))+")",1)):Object(n["e"])("",!0)])])}var Lt={name:"check",props:{check:m,color:String,proficiency:{type:Number,default:0},bonus:Number,clickable:{type:Boolean,default:!0,checkType:{default:Nt}},locked:Boolean},created:function(){this.checkType=Nt}};Lt.render=$t;var qt=Lt,Gt={name:"attributes-list",props:{character:D,locked:Boolean},data:function(){return{bones:0,attributeType:{default:Mt},checkType:{default:Nt}}},methods:{setData:function(){Object.assign(this.character,{healthBones:this.bones})},getData:function(){this.bones=this.character.healthBones}},watch:{character:function(){this.getData()}},created:function(){this.attributeType=Mt,this.checkType=Nt,this.getData()},components:{attribute:Ft,check:qt}};Gt.render=Tt;var Kt=Gt,Qt={class:"text-center row mx-1 justify-content-center mt-2"},Xt={class:"px-1 col-12 col-md-6 col-lg-5"},Yt={class:"alert alert-secondary mb-2"},Zt={class:"px-1 col-4 col-md-3"},ea={class:"alert alert-warning mb-2"},ta=Object(n["h"])("div",{class:"small text-secondary"},"Класс",-1),aa={class:"px-1 col-4 col-md-3"},na={class:"alert alert-warning mb-2"},ca=Object(n["h"])("div",{class:"small text-secondary"},"Раса",-1),ia={class:"px-1 col-4 col-md-3"},sa={class:"alert alert-warning mb-2"},ra=Object(n["h"])("div",{class:"small text-secondary"},"Предыстория",-1),oa={class:"px-1 col-3 col-md-3 col-lg-2"},la={class:"alert alert-warning mb-2"},da=Object(n["h"])("div",{class:"small text-secondary"},"Уровень",-1),ha={class:"px-1 col-4 col-md-3"},ua={class:"alert alert-warning mb-2"},ba=Object(n["f"])('<option value="0">Крошечный</option><option value="1">Маленький</option><option value="2">Средний</option><option value="3">Большой</option><option value="4">Огромный</option>',5),pa=Object(n["h"])("div",{class:"small text-secondary"},"Размер",-1),va={class:"px-1 col-5 col-md-3"},ma={class:"alert alert-warning mb-2"},fa=Object(n["f"])('<option value="0">Законно-добрый</option><option value="1">Законный</option><option value="2">Законно-злой</option><option value="3">Добрый</option><option value="4">Нейтральный</option><option value="5">Злой</option><option value="6">Хаотично-добрый</option><option value="7">Хаотичный</option><option value="8">Хаотично-злой</option>',9),ja=Object(n["h"])("div",{class:"small text-secondary"},"Мировоззрение",-1),Oa={class:"col-6 px-1"},ga={class:"my-3"},ya=Object(n["g"])(" Вдохновение "),ka={class:"d-flex px-1 justify-content-center"},xa={class:"mx-2"},wa={key:0,class:"fas fa-check"},Sa=Object(n["g"])(" Мастера "),Da=Object(n["f"])('<div class="px-2 mx-2"><select class="block plain d-block" style="--color:250deg;"><option value="0"></option><option value="6">d6</option><option value="8">d8</option><option value="10">d10</option><option value="12">d12</option></select> Барда </div>',1),Ca={class:"text-start mx-auto d-inline-block"},Ma={class:"d-inline-flex p-1"},Na={class:"hex me-2 text-center",style:{"--color":"300deg"}},Ia=Object(n["g"])(" Мастерство "),Va=Object(n["h"])("br",null,null,-1),Ua={class:"px-1 col-6 d-flex flex-column justify-content-between"},Ba={class:"col-6 my-3"};function Ta(e,t,a,c,i,s){var r=Object(n["k"])("derivatives"),o=Object(n["k"])("health"),l=Object(n["k"])("health-bones"),d=Object(n["k"])("rest");return Object(n["i"])(),Object(n["d"])("div",Qt,[Object(n["h"])("div",Xt,[Object(n["h"])("div",Yt,[Object(n["p"])(Object(n["h"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return i.name=e}),class:"plain w-100 border-bottom py-2 h5 mb-1",placeholder:"Имя персонажа",disabled:i.locked,onChange:t[2]||(t[2]=function(){return s.setData&&s.setData.apply(s,arguments)})},null,40,["disabled"]),[[n["n"],i.name]])])]),Object(n["h"])("div",Zt,[Object(n["h"])("div",ea,[this.character.class?Object(n["p"])((Object(n["i"])(),Object(n["d"])("select",{key:0,"onUpdate:modelValue":t[3]||(t[3]=function(e){return i.characterClass=e}),class:"plain w-100 border-bottom",disabled:i.locked,onChange:t[4]||(t[4]=function(){return s.setData&&s.setData.apply(s,arguments)})},[(Object(n["i"])(!0),Object(n["d"])(n["a"],null,Object(n["j"])(s.classOptions(),(function(e){return Object(n["i"])(),Object(n["d"])("option",{key:e,value:e.id},Object(n["l"])(e.name),9,["value"])})),128))],40,["disabled"])),[[n["m"],i.characterClass]]):Object(n["e"])("",!0),ta])]),Object(n["h"])("div",aa,[Object(n["h"])("div",na,[Object(n["p"])(Object(n["h"])("input",{"onUpdate:modelValue":t[5]||(t[5]=function(e){return i.race=e}),class:"plain w-100 border-bottom",disabled:i.locked,onChange:t[6]||(t[6]=function(){return s.setData&&s.setData.apply(s,arguments)})},null,40,["disabled"]),[[n["n"],i.race]]),ca])]),Object(n["h"])("div",ia,[Object(n["h"])("div",sa,[Object(n["p"])(Object(n["h"])("input",{"onUpdate:modelValue":t[7]||(t[7]=function(e){return i.story=e}),class:"plain w-100 border-bottom",disabled:i.locked,onChange:t[8]||(t[8]=function(){return s.setData&&s.setData.apply(s,arguments)})},null,40,["disabled"]),[[n["n"],i.story]]),ra])]),Object(n["h"])("div",oa,[Object(n["h"])("div",la,[Object(n["p"])(Object(n["h"])("input",{"onUpdate:modelValue":t[9]||(t[9]=function(e){return i.level=e}),class:"plain w-100 border-bottom",type:"number",min:"1",max:"20",disabled:i.locked,onChange:t[10]||(t[10]=function(){return s.setData&&s.setData.apply(s,arguments)})},null,40,["disabled"]),[[n["n"],i.level]]),da])]),Object(n["h"])("div",ha,[Object(n["h"])("div",ua,[Object(n["p"])(Object(n["h"])("select",{"onUpdate:modelValue":t[11]||(t[11]=function(e){return i.size=e}),class:"plain w-100 border-bottom",disabled:i.locked,onChange:t[12]||(t[12]=function(){return s.setData&&s.setData.apply(s,arguments)})},[ba],40,["disabled"]),[[n["m"],i.size]]),pa])]),Object(n["h"])("div",va,[Object(n["h"])("div",ma,[Object(n["p"])(Object(n["h"])("select",{"onUpdate:modelValue":t[13]||(t[13]=function(e){return i.alignment=e}),class:"plain w-100 border-bottom",disabled:i.locked,onChange:t[14]||(t[14]=function(){return s.setData&&s.setData.apply(s,arguments)})},[fa],40,["disabled"]),[[n["m"],i.alignment]]),ja])]),Object(n["h"])("div",Oa,[Object(n["h"])("div",ga,[ya,Object(n["h"])("div",ka,[Object(n["h"])("div",xa,[Object(n["h"])("div",{class:"hex m-auto d-block",style:{"--color":"250deg"},onClick:t[15]||(t[15]=function(){return s.toggleInspiration&&s.toggleInspiration.apply(s,arguments)})},[i.masterInspiration?(Object(n["i"])(),Object(n["d"])("span",wa)):Object(n["e"])("",!0)]),Sa]),Da])]),Object(n["h"])("div",Ca,[Object(n["h"])("div",Ma,[Object(n["h"])("div",Na,Object(n["l"])(a.character.proficiency),1),Ia]),Va,Object(n["h"])(r,{character:a.character},null,8,["character"])])]),Object(n["h"])("div",Ua,[Object(n["h"])(o,{character:a.character},null,8,["character"]),Object(n["h"])(l,{character:a.character},null,8,["character"])]),Object(n["h"])("div",Ba,[Object(n["h"])(d,{headerMessage:a.headerMessage,character:a.character},null,8,["headerMessage","character"])])])}var Aa={class:"d-inline-flex p-1"},Ea={class:"hex me-2",style:{"--color":"110deg"}},Pa=Object(n["g"])(" Скорость "),Ha=Object(n["h"])("br",null,null,-1),Ra={class:"d-inline-flex p-1"},za={class:"hex me-2",style:{"--color":"160deg"}},_a=Object(n["g"])(" Инициатива "),Fa=Object(n["h"])("br",null,null,-1),Ja={class:"d-inline-flex p-1"},Wa={class:"hex me-2",style:{"--color":"40deg"}},$a=Object(n["g"])(" Класс брони ");function La(e,t,a,c,i,s){return Object(n["i"])(),Object(n["d"])(n["a"],null,[Object(n["h"])("div",Aa,[Object(n["h"])("div",Ea,[Object(n["p"])(Object(n["h"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return i.speed=e}),class:"plain w-100",type:"number",min:"0",disabled:a.character.settings.locked,onChange:t[2]||(t[2]=function(){return s.setData&&s.setData.apply(s,arguments)})},null,40,["disabled"]),[[n["n"],i.speed]])]),Pa]),Ha,Object(n["h"])("div",Ra,[Object(n["h"])("div",za,[Object(n["p"])(Object(n["h"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return i.initiative=e}),class:"plain w-100",type:"number",disabled:a.character.settings.locked,onChange:t[4]||(t[4]=function(){return s.setData&&s.setData.apply(s,arguments)})},null,40,["disabled"]),[[n["n"],i.initiative]])]),_a]),Fa,Object(n["h"])("div",Ja,[Object(n["h"])("div",Wa,[Object(n["p"])(Object(n["h"])("input",{"onUpdate:modelValue":t[5]||(t[5]=function(e){return i.armor=e}),class:"plain w-100",type:"number",disabled:a.character.settings.locked,onChange:t[6]||(t[6]=function(){return s.setData&&s.setData.apply(s,arguments)})},null,40,["disabled"]),[[n["n"],i.armor]])]),$a])],64)}var qa={name:"derivatives",props:{character:D},data:function(){return{speed:0,armor:0,initiative:0}},methods:{setData:function(){Object.assign(this.character,{armor:this.armor}),Object.assign(this.character,{speed:this.speed}),Object.assign(this.character,{initiative:this.initiative})},getData:function(){this.armor=this.character.armor,this.speed=this.character.speed,this.initiative=this.character.initiative}},watch:{character:{handler:function(){this.getData()},deep:!0,immediate:!0}}};qa.render=La;var Ga=qa,Ka={class:"heart p-3 pb-4 small mt-1"},Qa={class:"d-flex justify-content-center mt-2"},Xa={class:"hex big",style:{"--color":"-10deg"}},Ya=Object(n["h"])("span",{class:"mx-1 my-0 h3"},"/",-1),Za={class:"hex big",style:{"--color":"-10deg"}},en=Object(n["h"])("div",{class:"mb-1"},"Здоровье",-1),tn={class:"hex",style:{"--color":"-10deg"}},an=Object(n["h"])("div",null,"Бонус",-1);function nn(e,t,a,c,i,s){return Object(n["i"])(),Object(n["d"])("div",Ka,[Object(n["h"])("div",Qa,[Object(n["h"])("div",Xa,[Object(n["p"])(Object(n["h"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return i.current=e}),class:"plain w-100",type:"number",max:a.character.healthMax,min:"0",onChange:t[2]||(t[2]=function(){return s.setData&&s.setData.apply(s,arguments)})},null,40,["max"]),[[n["n"],i.current]])]),Ya,Object(n["h"])("div",Za,[Object(n["p"])(Object(n["h"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return i.max=e}),class:"plain w-100",type:"number",min:"0",disabled:a.character.settings.locked,onChange:t[4]||(t[4]=function(){return s.setData&&s.setData.apply(s,arguments)})},null,40,["disabled"]),[[n["n"],i.max]])])]),en,Object(n["h"])("div",tn,[Object(n["p"])(Object(n["h"])("input",{"onUpdate:modelValue":t[5]||(t[5]=function(e){return i.bonus=e}),class:"plain w-100",type:"number",min:"0",onChange:t[6]||(t[6]=function(){return s.setData&&s.setData.apply(s,arguments)})},null,544),[[n["n"],i.bonus]])]),an])}var cn={name:"health",props:{character:D},data:function(){return{current:0,max:0,bonus:0}},methods:{setData:function(){this.current>this.max&&(this.current=this.max),Object.assign(this.character,{health:this.current}),Object.assign(this.character,{healthBonus:this.bonus}),Object.assign(this.character,{healthMax:this.max})},getData:function(){this.current=this.character.health,this.bonus=this.character.healthBonus,this.max=this.character.healthMax}},watch:{character:{handler:function(){this.getData()},deep:!0,immediate:!0}}};cn.render=nn;var sn=cn,rn={class:"small my-2 mx-auto border px-2 py-1 bones rounded text-start"},on=Object(n["g"])(" Кость здоровья "),ln={class:"plain float-end fw-bold pe-2"},dn={class:"d-flex justify-content-center"},hn=Object(n["h"])("span",null,"/",-1),un={class:"plain w-25"};function bn(e,t,a,c,i,s){return Object(n["i"])(),Object(n["d"])("div",rn,[on,Object(n["h"])("span",ln," d"+Object(n["l"])(a.character.class.bone),1),Object(n["h"])("div",dn,[Object(n["p"])(Object(n["h"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return i.bones=e}),class:"plain w-25",type:"number",min:"0",max:a.character.level,onChange:t[2]||(t[2]=function(){return s.setData&&s.setData.apply(s,arguments)})},null,40,["max"]),[[n["n"],i.bones]]),hn,Object(n["h"])("span",un,Object(n["l"])(a.character.level),1)])])}var pn={name:"health-bones",props:{character:D},data:function(){return{bones:0}},methods:{setData:function(){this.bones>this.character.level?this.bones=this.character.level:this.bones<0&&(this.bones=0),Object.assign(this.character,{healthBones:this.bones})},getData:function(){this.bones=this.character.healthBones}},watch:{character:{handler:function(){this.getData()},deep:!0,immediate:!0}}};pn.render=bn;var vn=pn,mn=Object(n["h"])("div",null,"Долгий отдых",-1),fn=Object(n["h"])("i",{class:"fas fa-bed px-4"},null,-1);function jn(e,t,a,c,i,s){return Object(n["i"])(),Object(n["d"])(n["a"],null,[mn,Object(n["h"])("div",{class:"btn loading-bar btn-sm text-center text-success border-success border-2",onTouchstart:t[1]||(t[1]=function(){return s.start&&s.start.apply(s,arguments)}),onTouchend:t[2]||(t[2]=function(){return s.end&&s.end.apply(s,arguments)}),onMousedown:t[3]||(t[3]=function(){return s.start&&s.start.apply(s,arguments)}),onMouseup:t[4]||(t[4]=function(){return s.end&&s.end.apply(s,arguments)}),style:"--percent:"+i.percent+"%"},[fn],36)],64)}var On={name:"rest",data:function(){return{percent:0,toggled:!1}},props:{character:D,headerMessage:V},methods:{longRest:function(){this.headerMessage.showSuccess("Персонаж успешно отдохнул"),this.character.longRest(),this.$parent.getData()},start:function(){this.toggled=!0,this.timer()},end:function(){this.toggled=!1,this.percent=0},timer:function(){this.toggled&&(100!=this.percent?(this.percent+=4,setTimeout(this.timer,50)):this.longRest())}}};On.render=jn;var gn=On,yn={name:"top-info",props:{character:D,headerMessage:V},data:function(){return{race:"",name:"",story:"",masterInspiration:Boolean,bardInspiration:Number,level:Number,alignment:Number,size:Number,characterClass:b,locked:Boolean}},methods:{classOptions:function(){return new k(b.Unknown).all},setData:function(){Object.assign(this.character,{race:this.race}),Object.assign(this.character,{name:this.name}),Object.assign(this.character,{size:this.size}),Object.assign(this.character,{story:this.story}),Object.assign(this.character,{level:this.level}),Object.assign(this.character,{alignment:this.alignment}),Object.assign(this.character,{class:new k(this.characterClass)}),Object.assign(this.character,{masterInspiration:this.masterInspiration}),Object.assign(this.character,{bardInspiration:this.bardInspiration})},getData:function(){this.locked=this.character.settings.locked,this.race=this.character.race,this.name=this.character.name,this.size=this.character.size,this.level=this.character.level,this.story=this.character.story,this.alignment=this.character.alignment,this.masterInspiration=this.character.masterInspiration,this.characterClass=this.character.class.type},toggleInspiration:function(){this.masterInspiration=!this.masterInspiration,this.setData()},longRest:function(){this.$parent.longRest()}},watch:{character:{handler:function(){this.getData()},deep:!0,immediate:!0}},components:{derivatives:Ga,health:sn,rest:gn,healthBones:vn}};yn.render=Ta;var kn=yn,xn={name:"character",data:function(){return{character:D,encoder:I,headerMessage:V,version:"v1.0.0",tab:1,icons:["id-card","running","suitcase","hand-sparkles","cog"],saveService:xe}},methods:{importCharacter:function(e,t){this.character=this.saveService.importCharacter(e,t,this.headerMessage)},clearCharacter:function(){this.character=new D},loadSave:function(){var e=this.saveService.saveSlots[0].value;this.importCharacter(e,256)},autoSave:function(){this.character.settings.autoSavesEnabled&&(this.headerMessage.showSuccess("Автосохранение завершено"),this.saveService.applySave(this.character,0)),setTimeout(this.autoSave,this.character.settings.autoSavesInterval)}},created:function(){this.encoder=new I,this.headerMessage=new V,this.saveService=new xe,this.loadSave(),setTimeout(this.autoSave,this.character.settings.autoSavesInterval)},components:{footerMenu:_e,headerMessage:qe,attributesList:Kt,mainInfo:kn,inventory:It}};xn.render=u;var wn=xn,Sn={name:"App",components:{character:wn}};a("15cb");Sn.render=i;var Dn=Sn;a("4989");Object(n["c"])(Dn).mount("#app")}});
//# sourceMappingURL=app.75c043b1.js.map