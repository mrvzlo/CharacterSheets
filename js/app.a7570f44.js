(function(e){function t(t){for(var c,s,i=t[0],o=t[1],l=t[2],u=0,b=[];u<i.length;u++)s=i[u],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&b.push(n[s][0]),n[s]=0;for(c in o)Object.prototype.hasOwnProperty.call(o,c)&&(e[c]=o[c]);d&&d(t);while(b.length)b.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],c=!0,i=1;i<a.length;i++){var o=a[i];0!==n[o]&&(c=!1)}c&&(r.splice(t--,1),e=s(s.s=a[0]))}return e}var c={},n={app:0},r=[];function s(t){if(c[t])return c[t].exports;var a=c[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=c,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)s.d(a,c,function(t){return e[t]}.bind(null,c));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/DnDSheet/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var d=o;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"0ea6":function(e,t,a){},1:function(e,t){},2:function(e,t){},"818b":function(e,t,a){"use strict";a("0ea6")},a940:function(e){e.exports=JSON.parse('[{"id":0,"short":"СИЛ"},{"id":1,"short":"ЛОВ"},{"id":2,"short":"ВЫН"},{"id":3,"short":"ИНТ"},{"id":4,"short":"МУД"},{"id":5,"short":"ХАР"}]')},b757:function(e){e.exports=JSON.parse('[{"id":1,"name":"Бард","bone":"8"},{"id":2,"name":"Варвар","bone":"12"},{"id":3,"name":"Воин","bone":"10"},{"id":4,"name":"Волшебник","bone":"6"},{"id":5,"name":"Друид","bone":"8"},{"id":6,"name":"Жрец","bone":"8"},{"id":7,"name":"Кодун","bone":"8"},{"id":8,"name":"Монах","bone":"8"},{"id":9,"name":"Паладин","bone":"10"},{"id":10,"name":"Плут","bone":"8"},{"id":11,"name":"Следопыт","bone":"10"},{"id":12,"name":"Чародей","bone":"6"}]')},cd49:function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var c=a("7a23"),n={class:"row mx-0 justify-content-center"},r={class:"col-12 col-lg-9 col-xl-7"};function s(e,t,a,s,i,o){var l=Object(c["j"])("character");return Object(c["h"])(),Object(c["d"])("div",n,[Object(c["g"])("div",r,[Object(c["g"])(l)])])}a("b0c0");var i,o,l={class:"text-center row mx-0 justify-content-center mt-2"},d={class:"px-1 col-12 col-md-7 col-lg-4"},u={class:"alert alert-secondary mb-2"},b={class:"px-1 col-4 col-md-3"},h={class:"alert alert-warning mb-2"},p=Object(c["g"])("div",{class:"small text-secondary"},"Класс",-1),f={class:"px-1 col-5 col-md-4 col-lg-3"},m={class:"alert alert-warning mb-2"},j=Object(c["g"])("div",{class:"small text-secondary"},"Раса",-1),g={class:"px-1 col-3 col-lg-2"},O={class:"alert alert-warning mb-2"},v=Object(c["g"])("div",{class:"small text-secondary"},"Уровень",-1),y={class:"col-12 col-md-3 text-start d-flex d-md-block d-lg-flex justify-content-center"},k={class:"d-flex px-1"},x={key:0,class:"fas fa-check"},w=Object(c["f"])(" Вдохновение "),S={class:"d-flex px-1"},C={class:"hex me-2",style:{"--color":"300deg"}},M=Object(c["f"])(" Мастерство "),D={class:"text-center row justify-content-center mt-2"},T=Object(c["g"])("div",{class:"border-bottom"},null,-1),V={class:"d-flex justify-content-between"},B={key:0,class:"d-flex flex-column justify-content-center small text-start px-2 px-lg-4"},P={class:"my-1"},A={class:"hex me-1",style:{"--color":"110deg"}},H=Object(c["f"])(" Скорость "),U={class:"my-1"},I={class:"hex me-1",style:{"--color":"160deg"}},R=Object(c["f"])(" Инициатива "),W={class:"my-1"},$={class:"hex me-1",style:{"--color":"40deg"}},N=Object(c["f"])(" Класс брони "),E={key:1,class:"small px-1 px-md-4 position-relative"},_={class:"heart p-3 pb-4 small mt-1"},F={class:"hex big",style:{"--color":"-10deg"}},J=Object(c["g"])("span",{class:"m-1 h3"},"/",-1),z={class:"hex big",style:{"--color":"-10deg"}},L=Object(c["g"])("div",{class:"mb-1"},"Здоровье",-1),q={class:"hex",style:{"--color":"-10deg"}},G=Object(c["g"])("div",null,"Бонус",-1),K={key:2,class:"small px-3 px-md-4 d-flex justify-content-center flex-column"},Q={key:3},X=Object(c["g"])("div",{class:"col-12 small text-secondary py-1"},"D&D 5e лист персонажа v0.7 by AndrejevVE",-1);function Y(e,t,a,n,r,s){var i=Object(c["j"])("header-message"),o=Object(c["j"])("attribute-with-checks"),Y=Object(c["j"])("rest"),Z=Object(c["j"])("footer-menu");return Object(c["h"])(),Object(c["d"])(c["a"],null,[Object(c["g"])(i,{model:r.headerMessage},null,8,["model"]),Object(c["g"])("div",l,[Object(c["g"])("div",d,[Object(c["g"])("div",u,[Object(c["o"])(Object(c["g"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.character.name=e}),class:"plain w-100 border-bottom py-2 h5 mb-1",placeholder:"Имя персонажа",disabled:r.locked},null,8,["disabled"]),[[c["m"],r.character.name]])])]),Object(c["g"])("div",b,[Object(c["g"])("div",h,[r.character.class?Object(c["o"])((Object(c["h"])(),Object(c["d"])("select",{key:0,"onUpdate:modelValue":t[2]||(t[2]=function(e){return r.character.class.type=e}),class:"plain w-100 border-bottom",disabled:r.locked},[(Object(c["h"])(!0),Object(c["d"])(c["a"],null,Object(c["i"])(r.character.class.all,(function(e){return Object(c["h"])(),Object(c["d"])("option",{key:e,value:e.id},Object(c["k"])(e.name),9,["value"])})),128))],8,["disabled"])),[[c["l"],r.character.class.type]]):Object(c["e"])("",!0),p])]),Object(c["g"])("div",f,[Object(c["g"])("div",m,[Object(c["o"])(Object(c["g"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return r.character.race=e}),class:"plain w-100 border-bottom",disabled:r.locked},null,8,["disabled"]),[[c["m"],r.character.race]]),j])]),Object(c["g"])("div",g,[Object(c["g"])("div",O,[Object(c["o"])(Object(c["g"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return r.character.level=e}),class:"plain w-100 border-bottom",type:"number",min:"1",max:"20",disabled:r.locked},null,8,["disabled"]),[[c["m"],r.character.level]]),v])]),Object(c["g"])("div",y,[Object(c["g"])("div",k,[Object(c["g"])("div",{class:"hex me-2",style:{"--color":"250deg"},onClick:t[5]||(t[5]=function(){return s.inspiration&&s.inspiration.apply(s,arguments)})},[r.character.inspiration?(Object(c["h"])(),Object(c["d"])("span",x)):Object(c["e"])("",!0)]),w]),Object(c["g"])("div",S,[Object(c["g"])("div",C,Object(c["k"])(r.character.proficiency),1),M])])]),Object(c["g"])("div",D,[T,(Object(c["h"])(!0),Object(c["d"])(c["a"],null,Object(c["i"])(r.character.attributes,(function(e,a){return Object(c["h"])(),Object(c["d"])("div",{class:"col-12 col-md-6 px-0 border-bottom",key:e.name},[Object(c["g"])("div",V,[Object(c["g"])(o,{character:r.character,locked:r.locked,attribute:e,index:a},null,8,["character","locked","attribute","index"]),e.type==r.attributeType.Dexterity?(Object(c["h"])(),Object(c["d"])("div",B,[Object(c["g"])("div",P,[Object(c["g"])("div",A,[Object(c["o"])(Object(c["g"])("input",{"onUpdate:modelValue":t[6]||(t[6]=function(e){return r.character.speed=e}),class:"plain w-100",type:"number",disabled:r.locked},null,8,["disabled"]),[[c["m"],r.character.speed]])]),H]),Object(c["g"])("div",U,[Object(c["g"])("div",I,[Object(c["o"])(Object(c["g"])("input",{"onUpdate:modelValue":t[7]||(t[7]=function(e){return r.character.initiative=e}),class:"plain w-100",type:"number",disabled:r.locked},null,8,["disabled"]),[[c["m"],r.character.initiative]])]),R]),Object(c["g"])("div",W,[Object(c["g"])("div",$,[Object(c["o"])(Object(c["g"])("input",{"onUpdate:modelValue":t[8]||(t[8]=function(e){return r.character.armor=e}),class:"plain w-100",type:"number",disabled:r.locked},null,8,["disabled"]),[[c["m"],r.character.armor]])]),N])])):e.type==r.attributeType.Strength?(Object(c["h"])(),Object(c["d"])("div",E,[Object(c["g"])("div",_,[Object(c["g"])("div",null,[Object(c["g"])("div",F,[Object(c["o"])(Object(c["g"])("input",{"onUpdate:modelValue":t[9]||(t[9]=function(e){return r.character.health=e}),class:"plain w-100",type:"number",max:r.character.healthMax,min:"0"},null,8,["max"]),[[c["m"],r.character.health]])]),J,Object(c["g"])("div",z,[Object(c["o"])(Object(c["g"])("input",{"onUpdate:modelValue":t[10]||(t[10]=function(e){return r.character.healthMax=e}),class:"plain w-100",type:"number",min:"0",disabled:r.locked},null,8,["disabled"]),[[c["m"],r.character.healthMax]])])]),L,Object(c["g"])("div",q,[Object(c["o"])(Object(c["g"])("input",{"onUpdate:modelValue":t[11]||(t[11]=function(e){return r.character.healthBonus=e}),class:"plain w-100",type:"number"},null,512),[[c["m"],r.character.healthBonus]])]),G])])):e.type==r.attributeType.Constitution?(Object(c["h"])(),Object(c["d"])("div",K,[Object(c["g"])(Y)])):(Object(c["h"])(),Object(c["d"])("div",Q))])])})),128)),X]),Object(c["g"])(Z,{locked:r.locked,character:r.character,save:r.save},null,8,["locked","character","save"])],64)}(function(e){e[e["Strength"]=0]="Strength",e[e["Dexterity"]=1]="Dexterity",e[e["Constitution"]=2]="Constitution",e[e["Intelligence"]=3]="Intelligence",e[e["Wisdom"]=4]="Wisdom",e[e["Charisma"]=5]="Charisma"})(i||(i={})),function(e){e[e["Unknown"]=0]="Unknown",e[e["Bard"]=1]="Bard",e[e["Barbarian"]=2]="Barbarian",e[e["Fighter"]=3]="Fighter",e[e["Wizard"]=4]="Wizard",e[e["Druid"]=5]="Druid",e[e["Cleric"]=6]="Cleric",e[e["Warlock"]=7]="Warlock",e[e["Monk"]=8]="Monk",e[e["Paladin"]=9]="Paladin",e[e["Rogue"]=10]="Rogue",e[e["Ranger"]=11]="Ranger",e[e["Sorcerer"]=12]="Sorcerer"}(o||(o={}));var Z,ee=a("d4ec"),te=a("bee2");(function(e){e[e["Saving"]=0]="Saving",e[e["Acrobatics"]=10]="Acrobatics",e[e["AnimalHandling"]=11]="AnimalHandling",e[e["Arcana"]=12]="Arcana",e[e["Athletics"]=13]="Athletics",e[e["Deception"]=14]="Deception",e[e["History"]=15]="History",e[e["Insight"]=16]="Insight",e[e["Intimidation"]=17]="Intimidation",e[e["Investigation"]=18]="Investigation",e[e["Medicine"]=19]="Medicine",e[e["Nature"]=20]="Nature",e[e["Perception"]=21]="Perception",e[e["Performance"]=22]="Performance",e[e["Persuasion"]=23]="Persuasion",e[e["Religion"]=24]="Religion",e[e["SleightOfHand"]=25]="SleightOfHand",e[e["Stealth"]=26]="Stealth",e[e["Survival"]=27]="Survival"})(Z||(Z={}));a("4de4"),a("7db0");var ae=function(){function e(t){Object(ee["a"])(this,e),this.knowledge=0,this.type=t}return Object(te["a"])(e,[{key:"get",value:function(e,t){return t+e*this.knowledge}},{key:"inc",value:function(){this.knowledge=(this.knowledge+1)%3}},{key:"level",get:function(){switch(this.knowledge){case 0:return"far fa-circle";case 1:return"fas fa-dot-circle";case 2:return"fas fa-circle"}return""}},{key:"name",get:function(){switch(this.type){case Z.Saving:return"Спасбросок";case Z.Acrobatics:return"Акробатика";case Z.AnimalHandling:return"Уход за животными";case Z.Arcana:return"Магия";case Z.Athletics:return"Атлетика";case Z.Deception:return"Обман";case Z.History:return"История";case Z.Insight:return"Проницательность";case Z.Intimidation:return"Запугивание";case Z.Investigation:return"Анализ";case Z.Medicine:return"Медицина";case Z.Nature:return"Природа";case Z.Perception:return"Внимательность";case Z.Performance:return"Выступление";case Z.Persuasion:return"Убеждение";case Z.SleightOfHand:return"Ловкость рук";case Z.Stealth:return"Скрытность";case Z.Survival:return"Выживание";case Z.Religion:return"Религия"}return""}}]),e}(),ce=function(){function e(t){Object(ee["a"])(this,e),this.value=10,this.checks=[],this.type=t}return Object(te["a"])(e,[{key:"bonus",get:function(){return Math.floor(this.value/2)-5}},{key:"getChecks",value:function(e){return this.checks.filter((function(t){return t.type===e}))}},{key:"skillChecks",get:function(){return this.checks.filter((function(e){return e.type>=10}))}},{key:"addCheck",value:function(e){this.checks.push(new ae(e))}},{key:"name",get:function(){var e,t,c=this,n=a("a940");return null!==(e=null===(t=n.find((function(e){return e.id==c.type})))||void 0===t?void 0:t.short)&&void 0!==e?e:""}}]),e}(),ne=function(){function e(t){Object(ee["a"])(this,e),this.type=t}return Object(te["a"])(e,[{key:"name",get:function(){var e,t,a=this;return null!==(e=null===(t=this.all.find((function(e){return e.id==a.type})))||void 0===t?void 0:t.name)&&void 0!==e?e:""}},{key:"bone",get:function(){var e,t,a=this;return null!==(e=null===(t=this.all.find((function(e){return e.id==a.type})))||void 0===t?void 0:t.bone)&&void 0!==e?e:0}},{key:"all",get:function(){return a("b757")}}]),e}(),re=function(){function e(){Object(ee["a"])(this,e),this.name="",this.race="",this.level=1,this.speed=30,this.armor=10,this.initiative=0,this.inspiration=!1,this.health=8,this.healthMax=8,this.healthBonus=0,this.healthBoneValue=8,this.healthBones=1,this.attributes=[],this.class=new ne(o.Unknown);for(var t=0;t<6;t++)this.attributes.push(new ce(t)),this.attributes[t].addCheck(Z.Saving);this.attributes[i.Strength].addCheck(Z.Athletics),this.attributes[i.Dexterity].addCheck(Z.Acrobatics),this.attributes[i.Dexterity].addCheck(Z.SleightOfHand),this.attributes[i.Dexterity].addCheck(Z.Stealth),this.attributes[i.Intelligence].addCheck(Z.Investigation),this.attributes[i.Intelligence].addCheck(Z.History),this.attributes[i.Intelligence].addCheck(Z.Arcana),this.attributes[i.Intelligence].addCheck(Z.Nature),this.attributes[i.Intelligence].addCheck(Z.Religion),this.attributes[i.Wisdom].addCheck(Z.Perception),this.attributes[i.Wisdom].addCheck(Z.Survival),this.attributes[i.Wisdom].addCheck(Z.Medicine),this.attributes[i.Wisdom].addCheck(Z.Insight),this.attributes[i.Wisdom].addCheck(Z.AnimalHandling),this.attributes[i.Charisma].addCheck(Z.Performance),this.attributes[i.Charisma].addCheck(Z.Intimidation),this.attributes[i.Charisma].addCheck(Z.Deception),this.attributes[i.Charisma].addCheck(Z.Persuasion)}return Object(te["a"])(e,[{key:"proficiency",get:function(){return Math.floor((this.level-1)/4)+2}},{key:"longRest",value:function(){this.health=this.healthMax,this.healthBones=this.level}}]),e}(),se=a("53ca"),ie=(a("159b"),a("b64b"),a("8017")),oe=a.n(ie),le=function(){function e(){Object(ee["a"])(this,e),this.dict=[],this.dict.push('"knowledge":'),this.dict.push(',"type":'),this.dict.push('"value":'),this.dict.push(',"checks":'),this.dict.push("},{"),this.dict.push("health")}return Object(te["a"])(e,[{key:"compress",value:function(e){var t=JSON.stringify(e);return t?(this.dict.forEach((function(e,a){t=t.replaceAll(e,String.fromCharCode(a+1))})),t):""}},{key:"decompress",value:function(e){return this.dict.forEach((function(t,a){e=e.replaceAll(String.fromCharCode(a+1),t)})),JSON.parse(e)}},{key:"encode64",value:function(e){var t=this.compress(e),a=oe.a.encodeUTF8(t),c=oe.a.encodeBase64(a);return c}},{key:"encode256",value:function(e){var t=this.compress(e),a=oe.a.encodeUTF8(t),c=oe.a.encodeStorageBinaryString(a);return c}},{key:"decode64",value:function(e){var t=oe.a.decodeBase64(e),a=oe.a.decodeUTF8(t),c=this.decompress(a);return this.parse(c,new re)}},{key:"decode256",value:function(e){var t=oe.a.decodeStorageBinaryString(e),a=oe.a.decodeUTF8(t),c=this.decompress(a);return this.parse(c,new re)}},{key:"parse",value:function(e,t){var a=this;return"object"!==Object(se["a"])(e)||null===e?e:(Object.keys(t).forEach((function(c){t[c]=a.parse(e[c],t[c])})),t)}}]),e}(),de=function(){function e(){Object(ee["a"])(this,e),this.text="",this.icon="",this.color="",this.show=!1}return Object(te["a"])(e,[{key:"closeHeader",value:function(){this.show=!1}},{key:"showHeader",value:function(e){var t=this;this.text=e,this.show=!0,setTimeout((function(){return t.closeHeader()}),3e3)}},{key:"showError",value:function(e){this.showHeader(e),this.icon="fas fa-exclamation-triangle",this.color="bg-danger"}},{key:"showSuccess",value:function(e){this.showHeader(e),this.icon="fas fa-thumbs-up",this.color="bg-success"}}]),e}(),ue={class:"position-fixed bottom-0 end-0 w-100 px-2 d-flex justify-content-end"},be={key:0,class:"border-0 text-right bg-white py-2 ps-2",id:"menu"},he=Object(c["g"])("div",{class:"btn btn-success me-1","data-bs-toggle":"modal","data-bs-target":"#saveModal"},[Object(c["g"])("i",{class:"fas fa-fw fa-save"})],-1),pe=Object(c["g"])("div",{class:"btn btn-danger me-1","data-bs-toggle":"modal","data-bs-target":"#reloadModal"},[Object(c["g"])("i",{class:"fas fa-fw fa-redo"})],-1),fe=Object(c["g"])("div",{class:"btn btn-primary me-1","data-bs-toggle":"modal","data-bs-target":"#importModal"},[Object(c["g"])("i",{class:"fas fa-fw fa-download"})],-1),me=Object(c["g"])("div",{class:"btn btn-primary me-1","data-bs-toggle":"modal","data-bs-target":"#exportModal"},[Object(c["g"])("i",{class:"fas fa-fw fa-upload"})],-1),je=Object(c["g"])("i",{class:"fas fa-cog fa-2x"},null,-1);function ge(e,t,a,n,r,s){var i=Object(c["j"])("export-modal"),o=Object(c["j"])("save-modal"),l=Object(c["j"])("import-modal"),d=Object(c["j"])("reload-modal");return Object(c["h"])(),Object(c["d"])(c["a"],null,[Object(c["g"])("div",ue,[Object(c["g"])(c["b"],{name:"fade-fast"},{default:Object(c["n"])((function(){return[e.show?(Object(c["h"])(),Object(c["d"])("div",be,[he,pe,fe,me,Object(c["g"])("div",{class:"btn btn-warning me-2",onClick:t[1]||(t[1]=function(){return s.lock&&s.lock.apply(s,arguments)})},[Object(c["g"])("i",{class:"fas fa-fw "+(a.locked?"fa-unlock":"fa-lock")},null,2)])])):Object(c["e"])("",!0)]})),_:1}),Object(c["g"])("div",{class:"my-2",onClick:t[2]||(t[2]=function(t){return e.show=!e.show})},[je])]),Object(c["g"])(i,{character:a.character},null,8,["character"]),Object(c["g"])(o,{character:a.character},null,8,["character"]),Object(c["g"])(l),Object(c["g"])(d)],64)}var Oe={class:"modal fade",id:"exportModal"},ve={class:"modal-dialog"},ye={class:"modal-content"},ke=Object(c["g"])("div",{class:"modal-header"},[Object(c["g"])("h5",{class:"modal-title"},"Экспортировать персонажа"),Object(c["g"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1),xe={class:"modal-body"},we={class:"modal-footer"},Se=Object(c["g"])("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Закрыть ",-1);function Ce(e,t,a,n,r,s){return Object(c["h"])(),Object(c["d"])("div",Oe,[Object(c["g"])("div",ve,[Object(c["g"])("div",ye,[ke,Object(c["g"])("div",xe,[Object(c["g"])("textarea",{value:s.exportStr(),class:"form-control",readonly:"",rows:"10"},null,8,["value"])]),Object(c["g"])("div",we,[Object(c["g"])("button",{type:"button",class:"btn btn-primary",onClick:t[1]||(t[1]=function(){return s.copy&&s.copy.apply(s,arguments)})}," Скопировать "),Se])])])])}var Me={name:"export-modal",props:{character:re},methods:{exportStr:function(){return this.encoder.encode64(this.character)},copy:function(){var e=this,t=this.exportStr();document.addEventListener("copy",(function(a){a.clipboardData.setData("text/plain",t),a.preventDefault(),document.removeEventListener("copy",e.event)})),document.execCommand("copy")}},created:function(){this.encoder=new le}};Me.render=Ce;var De=Me,Te={class:"modal fade",id:"importModal"},Ve={class:"modal-dialog"},Be={class:"modal-content"},Pe=Object(c["g"])("div",{class:"modal-header"},[Object(c["g"])("h5",{class:"modal-title"},"Загрузить сохранение"),Object(c["g"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1),Ae={class:"modal-body"},He={class:"modal-footer"},Ue=Object(c["g"])("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Закрыть ",-1);function Ie(e,t,a,n,r,s){return Object(c["h"])(),Object(c["d"])("div",Te,[Object(c["g"])("div",Ve,[Object(c["g"])("div",Be,[Pe,Object(c["g"])("div",Ae,[Object(c["o"])(Object(c["g"])("textarea",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.importData=e}),class:"form-control",rows:"10"},null,512),[[c["m"],r.importData]])]),Object(c["g"])("div",He,[Object(c["g"])("button",{type:"button",class:"btn btn-primary",onClick:t[2]||(t[2]=function(){return s.importStr&&s.importStr.apply(s,arguments)}),"data-bs-dismiss":"modal"}," Загрузить "),Ue])])])])}var Re={name:"import-modal",props:{character:re},data:function(){return{importData:""}},methods:{importStr:function(){return this.$parent.importCharacter(this.importData,64)}}};Re.render=Ie;var We=Re,$e={class:"modal fade",id:"reloadModal"},Ne={class:"modal-dialog"},Ee={class:"modal-content"},_e=Object(c["g"])("div",{class:"modal-header"},[Object(c["g"])("h5",{class:"modal-title"},"Сбросить персонажа"),Object(c["g"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1),Fe={class:"modal-body"},Je=Object(c["g"])("div",null,"Вы хотите сбросить текущие настройки?",-1),ze={key:0},Le=Object(c["f"])(" Будет загружено последнее сохранение"),qe=Object(c["g"])("br",null,null,-1),Ge=Object(c["f"])(" Очистить "),Ke=Object(c["g"])("i",{class:"fas fa-trash"},null,-1),Qe={key:1},Xe={class:"modal-footer"},Ye=Object(c["g"])("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Закрыть ",-1);function Ze(e,t,a,n,r,s){return Object(c["h"])(),Object(c["d"])("div",$e,[Object(c["g"])("div",Ne,[Object(c["g"])("div",Ee,[_e,Object(c["g"])("div",Fe,[Je,s.hasSave()?(Object(c["h"])(),Object(c["d"])("div",ze,[Le,qe,Object(c["g"])("span",{onClick:t[1]||(t[1]=function(){return s.clearSave&&s.clearSave.apply(s,arguments)}),class:"link-danger fw-bold"},[Ge,Ke])])):(Object(c["h"])(),Object(c["d"])("div",Qe,"Сохранение отсутствует"))]),Object(c["g"])("div",Xe,[Object(c["g"])("button",{type:"button",class:"btn btn-danger",onClick:t[2]||(t[2]=function(){return s.reload&&s.reload.apply(s,arguments)}),"data-bs-dismiss":"modal"}," Сбросить "),Ye])])])])}var et={name:"reload-modal",data:function(){return{importData:""}},methods:{hasSave:function(){return this.$parent.hasSave()},reload:function(){this.$parent.loadSave()},clearSave:function(){this.$parent.applySave(null)}}};et.render=Ze;var tt=et,at={class:"modal fade",id:"saveModal"},ct={class:"modal-dialog"},nt={class:"modal-content"},rt=Object(c["g"])("div",{class:"modal-header"},[Object(c["g"])("h5",{class:"modal-title"},"Сохранить персонажа"),Object(c["g"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1),st={class:"modal-body"},it=Object(c["g"])("div",null,"Сохранить персонажа?",-1),ot={key:0},lt={class:"modal-footer"},dt=Object(c["g"])("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Закрыть ",-1);function ut(e,t,a,n,r,s){return Object(c["h"])(),Object(c["d"])("div",at,[Object(c["g"])("div",ct,[Object(c["g"])("div",nt,[rt,Object(c["g"])("div",st,[it,s.hasSave()?(Object(c["h"])(),Object(c["d"])("div",ot,"Текущее сохранение будет перезаписано")):Object(c["e"])("",!0)]),Object(c["g"])("div",lt,[Object(c["g"])("button",{type:"button",class:"btn btn-success",onClick:t[1]||(t[1]=function(){return s.save&&s.save.apply(s,arguments)}),"data-bs-dismiss":"modal"}," Сохранить "),dt])])])])}var bt={name:"save-modal",props:{character:re},methods:{hasSave:function(){return this.$parent.hasSave()},save:function(){var e=new le,t=e.encode256(this.character);this.$parent.applySave(t)}}};bt.render=ut;var ht=bt,pt={name:"footer-menu",props:{locked:{type:Boolean},character:re,save:{type:String}},data:function(){return{show:!1}},methods:{lock:function(){return this.$parent.lock()},importCharacter:function(e,t){return this.$parent.importCharacter(e,t)},loadSave:function(){return this.$parent.loadSave()},applySave:function(e){return this.$parent.applySave(e)},hasSave:function(){return this.$parent.hasSave()}},components:{exportModal:De,importModal:We,reloadModal:tt,saveModal:ht}};pt.render=ge;var ft=pt,mt={class:"position-fixed top-0 start-0 w-100 p-2 text-center message"},jt={class:"d-flex justify-content-center"},gt={class:"toast-body text-center"};function Ot(e,t,a,n,r,s){return Object(c["h"])(),Object(c["d"])("div",mt,[Object(c["g"])(c["b"],{name:"fade"},{default:Object(c["n"])((function(){return[a.model.show?(Object(c["h"])(),Object(c["d"])("div",{key:0,class:"text-white rounded "+a.model.color},[Object(c["g"])("div",jt,[Object(c["g"])("i",{class:"m-auto ms-3 "+a.model.icon},null,2),Object(c["g"])("div",gt,Object(c["k"])(a.model.text),1),Object(c["g"])("button",{type:"button",class:"btn-close m-auto me-2 btn-close-white",onClick:t[1]||(t[1]=function(){return s.close&&s.close.apply(s,arguments)})})])],2)):Object(c["e"])("",!0)]})),_:1})])}var vt={name:"header-message",props:{model:de},methods:{close:function(){this.$parent.closeHeader()}}};vt.render=Ot;var yt=vt,kt={class:"d-flex"},xt={class:"my-4 px-2"},wt={class:"hex gray"},St=Object(c["g"])("div",null,null,-1),Ct={class:"m-0"},Mt={key:0,class:"small"},Dt={class:"text-start p-0 d-flex flex-column justify-content-center "},Tt={key:0};function Vt(e,t,a,n,r,s){var i=Object(c["j"])("check"),o=Object(c["j"])("health-bones");return Object(c["h"])(),Object(c["d"])("div",kt,[Object(c["g"])("div",xt,[Object(c["g"])("div",wt,[Object(c["o"])(Object(c["g"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.attributeValue=e}),class:"plain w-100",type:"number",min:"1",max:"20",disabled:a.locked,onChange:t[2]||(t[2]=function(){return s.setData&&s.setData.apply(s,arguments)})},null,40,["disabled"]),[[c["m"],r.attributeValue]])]),Object(c["g"])("div",{class:"border pt-3 pb-1 rounded-4 d-flex flex-column mt-n3 attribute",style:"--color: "+s.getColor(a.index)+"deg"},[St,Object(c["g"])("h1",Ct,Object(c["k"])(a.attribute.bonus),1),Object(c["f"])(" "+Object(c["k"])(a.attribute.name),1)],4),a.attribute.type==r.attributeType.Wisdom?(Object(c["h"])(),Object(c["d"])("div",Mt," Пассив "+Object(c["k"])(10+a.attribute.getChecks(r.checkType.Perception)[0].get(a.character.proficiency,a.attribute.bonus)),1)):Object(c["e"])("",!0)]),Object(c["g"])("div",Dt,[(Object(c["h"])(!0),Object(c["d"])(c["a"],null,Object(c["i"])(a.attribute.getChecks(r.checkType.Saving),(function(e){return Object(c["h"])(),Object(c["d"])("div",{key:e.name},[Object(c["g"])(i,{check:e,proficiency:a.character.proficiency,bonus:a.attribute.bonus,color:"text-warning",locked:a.locked},null,8,["check","proficiency","bonus","locked"])])})),128)),(Object(c["h"])(!0),Object(c["d"])(c["a"],null,Object(c["i"])(a.attribute.skillChecks,(function(e){return Object(c["h"])(),Object(c["d"])("div",{key:e.name},[Object(c["g"])(i,{check:e,proficiency:a.character.proficiency,bonus:a.attribute.bonus,locked:a.locked},null,8,["check","proficiency","bonus","locked"])])})),128)),a.attribute.type==r.attributeType.Constitution?(Object(c["h"])(),Object(c["d"])("div",Tt,[Object(c["g"])(o,{character:a.character,locked:a.locked},null,8,["character","locked"])])):Object(c["e"])("",!0)])])}a("a9e3");var Bt={class:"bonus px-1 text-center"},Pt={class:"small"};function At(e,t,a,n,r,s){return Object(c["h"])(),Object(c["d"])("div",{class:"check d-inline",onClick:t[1]||(t[1]=function(e){return!a.locked&&a.clickable?a.check.inc():""})},[Object(c["g"])("div",{class:a.color+" "+a.check.level},null,2),Object(c["g"])("span",Bt,Object(c["k"])(a.check.get(a.proficiency,a.bonus)),1),Object(c["g"])("span",Pt,Object(c["k"])(a.check.name),1)])}var Ht={name:"check",props:{check:ae,color:String,proficiency:{type:Number,default:0},bonus:Number,clickable:{type:Boolean,default:!0},locked:Boolean},methods:{}};Ht.render=At;var Ut=Ht,It={class:"small my-2 border p-1 bones rounded"},Rt=Object(c["f"])(" Кость здоровья "),Wt={class:"plain float-end fw-bold pe-2"},$t={class:"d-flex justify-content-center"},Nt=Object(c["g"])("span",null,"/",-1),Et={class:"plain w-25"};function _t(e,t,a,n,r,s){return Object(c["h"])(),Object(c["d"])("div",It,[Rt,Object(c["g"])("span",Wt," d"+Object(c["k"])(a.character.class.bone),1),Object(c["g"])("div",$t,[Object(c["o"])(Object(c["g"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return r.bones=e}),class:"plain w-25",type:"number",min:"0",max:a.character.level,onChange:t[2]||(t[2]=function(){return s.setData&&s.setData.apply(s,arguments)})},null,40,["max"]),[[c["m"],r.bones]]),Nt,Object(c["g"])("span",Et,Object(c["k"])(a.character.level),1)])])}var Ft={name:"health-bones",props:{character:re,locked:Boolean},data:function(){return{bones:0}},methods:{setData:function(){Object.assign(this.character,{healthBones:this.bones})},getData:function(){this.bones=this.character.healthBones}},watch:{character:function(){this.getData()}},created:function(){this.getData()}};Ft.render=_t;var Jt=Ft,zt={name:"attribute-with-checks",props:{character:re,attribute:ce,locked:Boolean,index:Number},data:function(){return{attributeValue:0,attributeType:{default:i},checkType:{default:Z}}},methods:{setData:function(){Object.assign(this.character.attributes[this.index],{value:this.attributeValue})},getData:function(){this.attributeValue=this.attribute.value},getColor:function(e){return 100*e*e}},watch:{character:function(){this.getData()}},created:function(){this.getData(),this.checkType=Z,this.attributeType=i},components:{check:Ut,healthBones:Jt}};zt.render=Vt;var Lt=zt,qt=Object(c["g"])("span",null,"Долгий отдых",-1),Gt=Object(c["g"])("i",{class:"fas fa-bed"},null,-1);function Kt(e,t,a,n,r,s){return Object(c["h"])(),Object(c["d"])(c["a"],null,[qt,Object(c["g"])("div",{class:"btn loading-bar btn-sm text-center text-success border-success border-2",onTouchstart:t[1]||(t[1]=function(){return s.start&&s.start.apply(s,arguments)}),onTouchend:t[2]||(t[2]=function(){return s.end&&s.end.apply(s,arguments)}),onMousedown:t[3]||(t[3]=function(){return s.start&&s.start.apply(s,arguments)}),onMouseup:t[4]||(t[4]=function(){return s.end&&s.end.apply(s,arguments)}),style:"--percent:"+r.percent+"%"},[Gt],36)],64)}var Qt={name:"rest",data:function(){return{percent:0,toggled:!1}},methods:{longRest:function(){this.$parent.longRest()},start:function(){this.toggled=!0,this.timer()},end:function(){this.toggled=!1,this.percent=0},timer:function(){this.toggled&&(100!=this.percent?(this.percent+=4,setTimeout(this.timer,50)):this.longRest())}}};Qt.render=Kt;var Xt=Qt,Yt={name:"character",data:function(){return{locked:!1,character:re,attributeType:{default:i},encoder:le,save:"",headerMessage:de}},methods:{lock:function(){this.locked=!this.locked},inspiration:function(){this.character.inspiration=!this.character.inspiration},importCharacter:function(e,t){if(!this.isValid(e))return this.clearCharacter();try{this.locked=!0,this.character=64==t?this.encoder.decode64(e):this.encoder.decode256(e)}catch(a){this.headerMessage.showError("Ошибка загрузки"),this.clearCharacter()}},clearCharacter:function(){this.character=new re,this.locked=!1},loadSave:function(){this.importCharacter(this.save,256)},applySave:function(e){this.save=e,localStorage.character=e},hasSave:function(){return this.isValid(this.save)},isValid:function(e){return!!e&&"null"!==e},longRest:function(){this.headerMessage.showSuccess("Персонаж успешно отдохнул"),this.character.longRest()},closeHeader:function(){this.headerMessage.closeHeader()}},created:function(){this.encoder=new le,this.save=localStorage.character,this.attributeType=i,this.headerMessage=new de,this.loadSave()},components:{footerMenu:ft,headerMessage:yt,attributeWithChecks:Lt,rest:Xt}};Yt.render=Y;var Zt=Yt,ea={name:"App",components:{character:Zt}};a("818b");ea.render=s;var ta=ea;a("4989");Object(c["c"])(ta).mount("#app")}});
//# sourceMappingURL=app.a7570f44.js.map