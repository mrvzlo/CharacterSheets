(function(e){function t(t){for(var c,r,i=t[0],o=t[1],l=t[2],u=0,b=[];u<i.length;u++)r=i[u],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&b.push(n[r][0]),n[r]=0;for(c in o)Object.prototype.hasOwnProperty.call(o,c)&&(e[c]=o[c]);d&&d(t);while(b.length)b.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],c=!0,i=1;i<a.length;i++){var o=a[i];0!==n[o]&&(c=!1)}c&&(s.splice(t--,1),e=r(r.s=a[0]))}return e}var c={},n={app:0},s=[];function r(t){if(c[t])return c[t].exports;var a=c[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=c,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var c in e)r.d(a,c,function(t){return e[t]}.bind(null,c));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/DnDSheet/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var d=o;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},1:function(e,t){},2:function(e,t){},"3fe2":function(e,t,a){"use strict";a("74fa")},"74fa":function(e,t,a){},cd49:function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var c=a("7a23");function n(e,t,a,n,s,r){var i=Object(c["j"])("character");return Object(c["h"])(),Object(c["d"])(i)}a("b0c0");var s={class:"text-center row mx-0"},r={class:"col-12 mt-2"},i={class:"alert alert-secondary"},o={class:"col-3"},l={class:"alert alert-warning"},d=Object(c["g"])("div",{class:"small text-secondary"},"Уровень",-1),u={class:"col-5"},b={class:"alert alert-warning"},h=Object(c["g"])("div",{class:"small text-secondary"},"Раса",-1),p={class:"col-4"},m={class:"alert alert-warning"},j=Object(c["g"])("div",{class:"small text-secondary"},"Класс",-1),f={class:"col-6 text-start"},O={class:"d-flex mb-2"},g={key:0,class:"fas fa-check"},v=Object(c["f"])(" Вдохновение "),y={class:"col-6 text-start"},k={class:"d-flex mb-2"},x={class:"hex me-2",style:{"--color":"300deg"}},w=Object(c["f"])(" Мастерство "),S={class:"row border-top"},C={class:"col-3 my-4"},M={class:"hex gray"},D={class:"border pt-3 pb-1 rounded-4 d-flex flex-column mt-n3"},V=Object(c["g"])("div",null,null,-1),A={class:"m-0"},H={key:0,class:"small"},I={key:0},P={class:"small my-2 border p-1 bones rounded"},U=Object(c["f"])(" Кость здоровья "),B=Object(c["g"])("option",{value:"6"},"Д6",-1),T=Object(c["g"])("option",{value:"8"},"Д8",-1),$=Object(c["g"])("option",{value:"10"},"Д10",-1),R=Object(c["g"])("option",{value:"12"},"Д12",-1),W={class:"d-flex justify-content-center"},E=Object(c["g"])("span",null,"/",-1),N={class:"plain w-25"},_={key:0,class:"col-5 d-flex flex-column justify-content-center border-start small text-start pe-0 ps-2"},J={class:"my-1"},F={class:"hex me-1",style:{"--color":"110deg"}},L=Object(c["f"])(" Скорость "),q={class:"my-1"},z={class:"hex me-1",style:{"--color":"160deg"}},G=Object(c["f"])(" Инициатива "),K={class:"my-1"},Q={class:"hex me-1",style:{"--color":"40deg"}},X=Object(c["f"])(" Класс брони "),Y={key:1,class:"col-5 border-start small px-0 position-relative"},Z={class:"heart pt-3 pb-4 small"},ee={class:"hex big",style:{"--color":"-10deg"}},te=Object(c["g"])("span",{class:"m-1 h3"},"/",-1),ae={class:"hex big",style:{"--color":"-10deg"}},ce=Object(c["g"])("div",{class:"mb-1"},"Здоровье",-1),ne={class:"hex",style:{"--color":"-10deg"}},se=Object(c["g"])("div",null,"Бонус",-1),re=Object(c["g"])("i",{class:"fas fa-bed"},null,-1),ie=Object(c["g"])("div",{class:"col-12 border-top small text-secondary py-1"},"D&D 5e лист персонажа v0.4 by AndrejevVE",-1);function oe(e,t,a,n,oe,le){var de=Object(c["j"])("check"),ue=Object(c["j"])("footer-menu"),be=Object(c["j"])("export-modal"),he=Object(c["j"])("save-modal"),pe=Object(c["j"])("import-modal"),me=Object(c["j"])("reload-modal"),je=Object(c["j"])("header-message");return Object(c["h"])(),Object(c["d"])(c["a"],null,[Object(c["g"])("div",s,[Object(c["g"])("div",r,[Object(c["g"])("div",i,[Object(c["o"])(Object(c["g"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return oe.character.name=e}),class:"plain w-100 border-bottom py-2",placeholder:"Имя персонажа",disabled:oe.locked},null,8,["disabled"]),[[c["m"],oe.character.name]])])]),Object(c["g"])("div",o,[Object(c["g"])("div",l,[Object(c["o"])(Object(c["g"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(e){return oe.character.level=e}),class:"plain w-100 border-bottom",type:"number",min:"1",max:"20",disabled:oe.locked},null,8,["disabled"]),[[c["m"],oe.character.level]]),d])]),Object(c["g"])("div",u,[Object(c["g"])("div",b,[Object(c["o"])(Object(c["g"])("input",{"onUpdate:modelValue":t[3]||(t[3]=function(e){return oe.character.race=e}),class:"plain w-100 border-bottom",disabled:oe.locked},null,8,["disabled"]),[[c["m"],oe.character.race]]),h])]),Object(c["g"])("div",p,[Object(c["g"])("div",m,[Object(c["o"])(Object(c["g"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return oe.character.class=e}),class:"plain w-100 border-bottom",disabled:oe.locked},null,8,["disabled"]),[[c["m"],oe.character.class]]),j])]),Object(c["g"])("div",f,[Object(c["g"])("div",O,[Object(c["g"])("div",{class:"hex me-2",style:{"--color":"250deg"},onClick:t[5]||(t[5]=function(){return le.inspiration&&le.inspiration.apply(le,arguments)})},[oe.character.inspiration?(Object(c["h"])(),Object(c["d"])("span",g)):Object(c["e"])("",!0)]),v])]),Object(c["g"])("div",y,[Object(c["g"])("div",k,[Object(c["g"])("div",x,Object(c["k"])(oe.character.proficiency()),1),w])]),(Object(c["h"])(!0),Object(c["d"])(c["a"],null,Object(c["i"])(oe.character.attributes,(function(e){return Object(c["h"])(),Object(c["d"])("div",{class:"col-12",key:e.name},[Object(c["g"])("div",S,[Object(c["g"])("div",C,[Object(c["g"])("div",M,[Object(c["o"])(Object(c["g"])("input",{"onUpdate:modelValue":function(t){return e.value=t},class:"plain w-100",type:"number",min:"1",max:"20",disabled:oe.locked},null,8,["onUpdate:modelValue","disabled"]),[[c["m"],e.value]])]),Object(c["g"])("div",D,[V,Object(c["g"])("h1",A,Object(c["k"])(e.bonus()),1),Object(c["f"])(" "+Object(c["k"])(e.name()),1)]),e.type==oe.attributeType.Wisdom?(Object(c["h"])(),Object(c["d"])("div",H,"Пассив "+Object(c["k"])(10+e.bonus()),1)):Object(c["e"])("",!0)]),Object(c["g"])("div",{class:"text-start p-0 d-flex flex-column justify-content-center "+(e.type>oe.attributeType.Dexterity?"col-9":" col-4")},[(Object(c["h"])(!0),Object(c["d"])(c["a"],null,Object(c["i"])(e.getChecks(oe.checkType.Saving),(function(t){return Object(c["h"])(),Object(c["d"])("div",{key:t.name},[Object(c["g"])(de,{check:t,proficiency:oe.character.proficiency(),bonus:e.bonus(),color:"text-warning",locked:oe.locked},null,8,["check","proficiency","bonus","locked"])])})),128)),(Object(c["h"])(!0),Object(c["d"])(c["a"],null,Object(c["i"])(e.getSkillChecks(),(function(t){return Object(c["h"])(),Object(c["d"])("div",{key:t.name},[Object(c["g"])(de,{check:t,proficiency:oe.character.proficiency(),bonus:e.bonus(),locked:oe.locked},null,8,["check","proficiency","bonus","locked"])])})),128)),e.type==oe.attributeType.Constitution?(Object(c["h"])(),Object(c["d"])("div",I,[Object(c["g"])("div",P,[U,Object(c["o"])(Object(c["g"])("select",{"onUpdate:modelValue":t[6]||(t[6]=function(e){return oe.character.healthBoneValue=e}),class:"plain float-end fw-bold",disabled:oe.locked},[B,T,$,R],8,["disabled"]),[[c["l"],oe.character.healthBoneValue]]),Object(c["g"])("div",W,[Object(c["o"])(Object(c["g"])("input",{"onUpdate:modelValue":t[7]||(t[7]=function(e){return oe.character.healthBones=e}),class:"plain w-25",type:"number",min:"0",max:oe.character.level},null,8,["max"]),[[c["m"],oe.character.healthBones]]),E,Object(c["g"])("span",N,Object(c["k"])(oe.character.level),1)])])])):Object(c["e"])("",!0)],2),e.type==oe.attributeType.Dexterity?(Object(c["h"])(),Object(c["d"])("div",_,[Object(c["g"])("div",J,[Object(c["g"])("div",F,[Object(c["o"])(Object(c["g"])("input",{"onUpdate:modelValue":t[8]||(t[8]=function(e){return oe.character.speed=e}),class:"plain w-100",type:"number",disabled:oe.locked},null,8,["disabled"]),[[c["m"],oe.character.speed]])]),L]),Object(c["g"])("div",q,[Object(c["g"])("div",z,[Object(c["o"])(Object(c["g"])("input",{"onUpdate:modelValue":t[9]||(t[9]=function(e){return oe.character.initiative=e}),class:"plain w-100",type:"number",disabled:oe.locked},null,8,["disabled"]),[[c["m"],oe.character.initiative]])]),G]),Object(c["g"])("div",K,[Object(c["g"])("div",Q,[Object(c["o"])(Object(c["g"])("input",{"onUpdate:modelValue":t[10]||(t[10]=function(e){return oe.character.armor=e}),class:"plain w-100",type:"number",disabled:oe.locked},null,8,["disabled"]),[[c["m"],oe.character.armor]])]),X])])):Object(c["e"])("",!0),e.type==oe.attributeType.Strength?(Object(c["h"])(),Object(c["d"])("div",Y,[Object(c["g"])("div",Z,[Object(c["g"])("div",null,[Object(c["g"])("div",ee,[Object(c["o"])(Object(c["g"])("input",{"onUpdate:modelValue":t[11]||(t[11]=function(e){return oe.character.health=e}),class:"plain w-100",type:"number",max:oe.character.healthMax,min:"0"},null,8,["max"]),[[c["m"],oe.character.health]])]),te,Object(c["g"])("div",ae,[Object(c["o"])(Object(c["g"])("input",{"onUpdate:modelValue":t[12]||(t[12]=function(e){return oe.character.healthMax=e}),class:"plain w-100",type:"number",min:"0",disabled:oe.locked},null,8,["disabled"]),[[c["m"],oe.character.healthMax]])])]),ce,Object(c["g"])("div",ne,[Object(c["o"])(Object(c["g"])("input",{"onUpdate:modelValue":t[13]||(t[13]=function(e){return oe.character.healthBonus=e}),class:"plain w-100",type:"number"},null,512),[[c["m"],oe.character.healthBonus]])]),se]),Object(c["g"])("div",{class:"btn btn-success btn-sm bottom-0 end-0 m-1 position-absolute",onClick:t[14]||(t[14]=function(){return le.longRest&&le.longRest.apply(le,arguments)})},[re])])):Object(c["e"])("",!0)])])})),128)),ie]),Object(c["g"])(ue,{locked:oe.locked},null,8,["locked"]),Object(c["g"])(be,{character:oe.character},null,8,["character"]),Object(c["g"])(he,{character:oe.character},null,8,["character"]),Object(c["g"])(pe),Object(c["g"])(me),Object(c["g"])(je,{model:oe.headerMessage},null,8,["model"])],64)}var le,de=a("d4ec"),ue=a("bee2");(function(e){e[e["Saving"]=0]="Saving",e[e["Acrobatics"]=10]="Acrobatics",e[e["AnimalHandling"]=11]="AnimalHandling",e[e["Arcana"]=12]="Arcana",e[e["Athletics"]=13]="Athletics",e[e["Deception"]=14]="Deception",e[e["History"]=15]="History",e[e["Insight"]=16]="Insight",e[e["Intimidation"]=17]="Intimidation",e[e["Investigation"]=18]="Investigation",e[e["Medicine"]=19]="Medicine",e[e["Nature"]=20]="Nature",e[e["Perception"]=21]="Perception",e[e["Performance"]=22]="Performance",e[e["Persuasion"]=23]="Persuasion",e[e["Religion"]=24]="Religion",e[e["SleightOfHand"]=25]="SleightOfHand",e[e["Stealth"]=26]="Stealth",e[e["Survival"]=27]="Survival"})(le||(le={}));a("4de4");var be,he=function(){function e(t){Object(de["a"])(this,e),this.knowledge=0,this.type=t}return Object(ue["a"])(e,[{key:"get",value:function(e,t){return t+e*this.knowledge}},{key:"inc",value:function(){this.knowledge=(this.knowledge+1)%3}},{key:"level",value:function(){switch(this.knowledge){case 0:return"far fa-circle";case 1:return"fas fa-dot-circle";case 2:return"fas fa-circle"}return""}},{key:"name",value:function(){switch(this.type){case le.Saving:return"Спасбросок";case le.Acrobatics:return"Акробатика";case le.AnimalHandling:return"Уход за животными";case le.Arcana:return"Магия";case le.Athletics:return"Атлетика";case le.Deception:return"Обман";case le.History:return"История";case le.Insight:return"Проницательность";case le.Intimidation:return"Запугивание";case le.Investigation:return"Анализ";case le.Medicine:return"Медицина";case le.Nature:return"Природа";case le.Perception:return"Внимательность";case le.Performance:return"Выступление";case le.Persuasion:return"Убеждение";case le.SleightOfHand:return"Ловкость рук";case le.Stealth:return"Скрытность";case le.Survival:return"Выживание";case le.Religion:return"Религия"}return""}}]),e}();(function(e){e[e["Strength"]=0]="Strength",e[e["Dexterity"]=1]="Dexterity",e[e["Constitution"]=2]="Constitution",e[e["Intelligence"]=3]="Intelligence",e[e["Wisdom"]=4]="Wisdom",e[e["Charisma"]=5]="Charisma"})(be||(be={}));var pe=function(){function e(t){Object(de["a"])(this,e),this.value=10,this.checks=[],this.type=t}return Object(ue["a"])(e,[{key:"bonus",value:function(){return Math.floor(this.value/2)-5}},{key:"getChecks",value:function(e){return this.checks.filter((function(t){return t.type===e}))}},{key:"getSkillChecks",value:function(){return this.checks.filter((function(e){return e.type>=10}))}},{key:"addCheck",value:function(e){this.checks.push(new he(e))}},{key:"name",value:function(){switch(this.type){case be.Charisma:return"ХАР";case be.Wisdom:return"МУД";case be.Strength:return"СИЛ";case be.Constitution:return"ТЕЛ";case be.Dexterity:return"ЛОВ";case be.Intelligence:return"ИНТ"}return""}}]),e}(),me=function(){function e(){Object(de["a"])(this,e),this.name="",this.class="",this.race="",this.level=1,this.initiative=0,this.inspiration=!1,this.speed=30,this.armor=10,this.health=8,this.healthMax=8,this.healthBonus=0,this.healthBoneValue=8,this.healthBones=1,this.attributes=[];for(var t=0;t<6;t++)this.attributes.push(new pe(t));for(var a=0;a<6;a++)this.attributes[a].addCheck(le.Saving);this.attributes[be.Strength].addCheck(le.Athletics),this.attributes[be.Dexterity].addCheck(le.Acrobatics),this.attributes[be.Dexterity].addCheck(le.SleightOfHand),this.attributes[be.Dexterity].addCheck(le.Stealth),this.attributes[be.Intelligence].addCheck(le.Investigation),this.attributes[be.Intelligence].addCheck(le.History),this.attributes[be.Intelligence].addCheck(le.Arcana),this.attributes[be.Intelligence].addCheck(le.Nature),this.attributes[be.Intelligence].addCheck(le.Religion),this.attributes[be.Wisdom].addCheck(le.Perception),this.attributes[be.Wisdom].addCheck(le.Survival),this.attributes[be.Wisdom].addCheck(le.Medicine),this.attributes[be.Wisdom].addCheck(le.Insight),this.attributes[be.Wisdom].addCheck(le.AnimalHandling),this.attributes[be.Charisma].addCheck(le.Performance),this.attributes[be.Charisma].addCheck(le.Intimidation),this.attributes[be.Charisma].addCheck(le.Deception),this.attributes[be.Charisma].addCheck(le.Persuasion)}return Object(ue["a"])(e,[{key:"proficiency",value:function(){return Math.floor((this.level-1)/4)+2}},{key:"longRest",value:function(){this.health=this.healthMax,this.healthBones=this.level}}]),e}(),je={class:"bonus px-1 text-center"},fe={class:"small"};function Oe(e,t,a,n,s,r){return Object(c["h"])(),Object(c["d"])("div",{class:"check d-inline",onClick:t[1]||(t[1]=function(e){return!a.locked&&a.clickable?a.check.inc():""})},[Object(c["g"])("div",{class:a.color+" "+a.check.level()},null,2),Object(c["g"])("span",je,Object(c["k"])(a.check.get(a.proficiency,a.bonus)),1),Object(c["g"])("span",fe,Object(c["k"])(a.check.name()),1)])}a("a9e3");var ge={name:"check",props:{check:he,color:String,proficiency:{type:Number,default:0},bonus:Number,clickable:{type:Boolean,default:!0},locked:Boolean},methods:{}};ge.render=Oe;var ve=ge,ye={class:"modal fade",id:"exportModal"},ke={class:"modal-dialog"},xe={class:"modal-content"},we=Object(c["g"])("div",{class:"modal-header"},[Object(c["g"])("h5",{class:"modal-title"},"Экспортировать персонажа"),Object(c["g"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1),Se={class:"modal-body"},Ce={class:"modal-footer"},Me=Object(c["g"])("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Закрыть ",-1);function De(e,t,a,n,s,r){return Object(c["h"])(),Object(c["d"])("div",ye,[Object(c["g"])("div",ke,[Object(c["g"])("div",xe,[we,Object(c["g"])("div",Se,[Object(c["g"])("textarea",{value:r.exportStr(),class:"form-control",readonly:"",rows:"10"},null,8,["value"])]),Object(c["g"])("div",Ce,[Object(c["g"])("button",{type:"button",class:"btn btn-primary",onClick:t[1]||(t[1]=function(){return r.copy&&r.copy.apply(r,arguments)})}," Скопировать "),Me])])])])}var Ve=a("53ca"),Ae=(a("159b"),a("b64b"),a("8017")),He=a.n(Ae),Ie=function(){function e(){Object(de["a"])(this,e),this.dict=[],this.dict.push('"knowledge":'),this.dict.push(',"type":'),this.dict.push('"value":'),this.dict.push(',"checks":'),this.dict.push("},{"),this.dict.push("health")}return Object(ue["a"])(e,[{key:"encode",value:function(e){var t=JSON.stringify(e);this.dict.forEach((function(e,a){t=t.replaceAll(e,String.fromCharCode(a+1))}));var a=He.a.encodeBase64(He.a.encodeUTF8(t));return a}},{key:"decode",value:function(e){var t=He.a.decodeUTF8(He.a.decodeBase64(e));this.dict.forEach((function(e,a){t=t.replaceAll(String.fromCharCode(a+1),e)}));var a=JSON.parse(t);return this.parse(a,new me)}},{key:"parse",value:function(e,t){var a=this;return"object"!==Object(Ve["a"])(e)||null===e?e:(Object.keys(t).forEach((function(c){return t[c]=a.parse(e[c],t[c])})),t)}}]),e}(),Pe={name:"export-modal",props:{character:me},methods:{exportStr:function(){return this.encoder.encode(this.character)},copy:function(){var e=this,t=this.exportStr();document.addEventListener("copy",(function(a){a.clipboardData.setData("text/plain",t),a.preventDefault(),document.removeEventListener("copy",e.event)})),document.execCommand("copy")}},created:function(){this.encoder=new Ie}};Pe.render=De;var Ue=Pe,Be={class:"modal fade",id:"importModal"},Te={class:"modal-dialog"},$e={class:"modal-content"},Re=Object(c["g"])("div",{class:"modal-header"},[Object(c["g"])("h5",{class:"modal-title"},"Загрузить сохранение"),Object(c["g"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1),We={class:"modal-body"},Ee={class:"modal-footer"},Ne=Object(c["g"])("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Закрыть ",-1);function _e(e,t,a,n,s,r){return Object(c["h"])(),Object(c["d"])("div",Be,[Object(c["g"])("div",Te,[Object(c["g"])("div",$e,[Re,Object(c["g"])("div",We,[Object(c["o"])(Object(c["g"])("textarea",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return s.importData=e}),class:"form-control",rows:"10"},null,512),[[c["m"],s.importData]])]),Object(c["g"])("div",Ee,[Object(c["g"])("button",{type:"button",class:"btn btn-primary",onClick:t[2]||(t[2]=function(){return r.importStr&&r.importStr.apply(r,arguments)}),"data-bs-dismiss":"modal"}," Загрузить "),Ne])])])])}var Je={name:"import-modal",props:{character:me},data:function(){return{importData:""}},methods:{importStr:function(){return this.$parent.importCharacter(this.importData)}}};Je.render=_e;var Fe=Je,Le={class:"modal fade",id:"reloadModal"},qe={class:"modal-dialog"},ze={class:"modal-content"},Ge=Object(c["g"])("div",{class:"modal-header"},[Object(c["g"])("h5",{class:"modal-title"},"Сбросить персонажа"),Object(c["g"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1),Ke={class:"modal-body"},Qe=Object(c["g"])("div",null,"Вы хотите сбросить текущие настройки?",-1),Xe={key:0},Ye=Object(c["f"])(" Будет загружено последнее сохранение"),Ze=Object(c["g"])("br",null,null,-1),et=Object(c["f"])(" Очистить "),tt=Object(c["g"])("i",{class:"fas fa-trash"},null,-1),at={key:1},ct={class:"modal-footer"},nt=Object(c["g"])("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Закрыть ",-1);function st(e,t,a,n,s,r){return Object(c["h"])(),Object(c["d"])("div",Le,[Object(c["g"])("div",qe,[Object(c["g"])("div",ze,[Ge,Object(c["g"])("div",Ke,[Qe,r.hasSave()?(Object(c["h"])(),Object(c["d"])("div",Xe,[Ye,Ze,Object(c["g"])("span",{onClick:t[1]||(t[1]=function(){return r.clearSave&&r.clearSave.apply(r,arguments)}),class:"link-danger fw-bold"},[et,tt])])):(Object(c["h"])(),Object(c["d"])("div",at,"Сохранение отсутствует"))]),Object(c["g"])("div",ct,[Object(c["g"])("button",{type:"button",class:"btn btn-danger",onClick:t[2]||(t[2]=function(){return r.reload&&r.reload.apply(r,arguments)}),"data-bs-dismiss":"modal"}," Сбросить "),nt])])])])}var rt={name:"reload-modal",data:function(){return{importData:""}},methods:{hasSave:function(){return this.$parent.hasSave()},reload:function(){this.$parent.loadSave()},clearSave:function(){this.$parent.save=null,this.$parent.applySave()}}};rt.render=st;var it=rt,ot={class:"modal fade",id:"saveModal"},lt={class:"modal-dialog"},dt={class:"modal-content"},ut=Object(c["g"])("div",{class:"modal-header"},[Object(c["g"])("h5",{class:"modal-title"},"Сохранить персонажа"),Object(c["g"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1),bt={class:"modal-body"},ht=Object(c["g"])("div",null,"Сохранить персонажа?",-1),pt={key:0},mt={class:"modal-footer"},jt=Object(c["g"])("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"}," Закрыть ",-1);function ft(e,t,a,n,s,r){return Object(c["h"])(),Object(c["d"])("div",ot,[Object(c["g"])("div",lt,[Object(c["g"])("div",dt,[ut,Object(c["g"])("div",bt,[ht,r.hasSave()?(Object(c["h"])(),Object(c["d"])("div",pt,"Текущее сохранение будет перезаписано")):Object(c["e"])("",!0)]),Object(c["g"])("div",mt,[Object(c["g"])("button",{type:"button",class:"btn btn-success",onClick:t[1]||(t[1]=function(){return r.save&&r.save.apply(r,arguments)}),"data-bs-dismiss":"modal"}," Сохранить "),jt])])])])}var Ot={name:"save-modal",props:{character:me},methods:{hasSave:function(){return this.$parent.hasSave()},save:function(){var e=new Ie;this.$parent.save=e.encode(this.character),this.$parent.applySave()}}};Ot.render=ft;var gt=Ot,vt={class:"position-fixed bottom-0 end-0 w-100 px-2 d-flex justify-content-end"},yt={key:0,class:"border-0 text-right bg-white py-2 ps-2",id:"menu"},kt=Object(c["g"])("div",{class:"btn btn-success me-1","data-bs-toggle":"modal","data-bs-target":"#saveModal"},[Object(c["g"])("i",{class:"fas fa-fw fa-save"})],-1),xt=Object(c["g"])("div",{class:"btn btn-danger me-1","data-bs-toggle":"modal","data-bs-target":"#reloadModal"},[Object(c["g"])("i",{class:"fas fa-fw fa-redo"})],-1),wt=Object(c["g"])("div",{class:"btn btn-primary me-1","data-bs-toggle":"modal","data-bs-target":"#importModal"},[Object(c["g"])("i",{class:"fas fa-fw fa-upload"})],-1),St=Object(c["g"])("div",{class:"btn btn-primary me-1","data-bs-toggle":"modal","data-bs-target":"#exportModal"},[Object(c["g"])("i",{class:"fas fa-fw fa-download"})],-1),Ct=Object(c["g"])("i",{class:"fas fa-cog fa-2x"},null,-1);function Mt(e,t,a,n,s,r){return Object(c["h"])(),Object(c["d"])("div",vt,[Object(c["g"])(c["b"],{name:"fade-fast"},{default:Object(c["n"])((function(){return[e.show?(Object(c["h"])(),Object(c["d"])("div",yt,[kt,xt,wt,St,Object(c["g"])("div",{class:"btn btn-warning me-2",onClick:t[1]||(t[1]=function(){return r.lock&&r.lock.apply(r,arguments)})},[Object(c["g"])("i",{class:"fas fa-fw "+(a.locked?"fa-unlock":"fa-lock")},null,2)])])):Object(c["e"])("",!0)]})),_:1}),Object(c["g"])("div",{class:"my-2",onClick:t[2]||(t[2]=function(t){return e.show=!e.show})},[Ct])])}var Dt={name:"footer-menu",props:{locked:{type:Boolean}},data:function(){return{show:!1}},methods:{lock:function(){return this.$parent.lock()},reloadCharacter:function(){return this.$parent.reloadCharacter()}}};Dt.render=Mt;var Vt=Dt,At={class:"position-fixed top-0 start-0 w-100 p-2 text-center"},Ht={class:"d-flex justify-content-center"},It={class:"toast-body text-center"};function Pt(e,t,a,n,s,r){return Object(c["h"])(),Object(c["d"])("div",At,[Object(c["g"])(c["b"],{name:"fade"},{default:Object(c["n"])((function(){return[a.model.show?(Object(c["h"])(),Object(c["d"])("div",{key:0,class:"text-white rounded "+a.model.color},[Object(c["g"])("div",Ht,[Object(c["g"])("i",{class:"m-auto ms-3 "+a.model.icon},null,2),Object(c["g"])("div",It,Object(c["k"])(a.model.text),1),Object(c["g"])("button",{type:"button",class:"btn-close m-auto me-2 btn-close-white",onClick:t[1]||(t[1]=function(){return r.close&&r.close.apply(r,arguments)})})])],2)):Object(c["e"])("",!0)]})),_:1})])}var Ut=function(){function e(){Object(de["a"])(this,e),this.text="",this.icon="",this.color="",this.show=!1}return Object(ue["a"])(e,[{key:"closeHeader",value:function(){this.show=!1}},{key:"showHeader",value:function(e){var t=this;this.text=e,this.show=!0,setTimeout((function(){return t.closeHeader()}),3e3)}},{key:"showError",value:function(e){this.showHeader(e),this.icon="fas fa-exclamation-triangle",this.color="bg-danger"}},{key:"showSuccess",value:function(e){this.showHeader(e),this.icon="fas fa-thumbs-up",this.color="bg-success"}}]),e}(),Bt={name:"header-message",props:{model:Ut},methods:{close:function(){this.$parent.closeHeader()}}};Bt.render=Pt;var Tt=Bt,$t={name:"character",data:function(){return{locked:!1,character:me,checkType:{default:le},attributeType:{default:be},encoder:Ie,save:"",headerMessage:Ut}},methods:{lock:function(){this.locked=!this.locked},inspiration:function(){this.character.inspiration=!this.character.inspiration},importCharacter:function(e){if(!this.isValid(e))return this.clearCharacter();try{this.character=this.encoder.decode(e),this.locked=!0}catch(t){this.headerMessage.showError("Ошибка загрузки"),this.clearCharacter()}},clearCharacter:function(){this.character=new me},loadSave:function(){this.importCharacter(this.save)},applySave:function(){localStorage.character=this.save},hasSave:function(){return this.isValid(this.save)},isValid:function(e){return!!e&&"null"!==e},longRest:function(){this.headerMessage.showSuccess("Персонаж успешно отдохнул"),this.character.longRest()},closeHeader:function(){this.headerMessage.closeHeader()}},created:function(){this.attributeType=be,this.checkType=le,this.encoder=new Ie,this.save=localStorage.character,this.headerMessage=new Ut,this.loadSave()},components:{check:ve,"export-modal":Ue,"import-modal":Fe,"reload-modal":it,"save-modal":gt,"footer-menu":Vt,"header-message":Tt}};$t.render=oe;var Rt=$t,Wt={name:"App",components:{character:Rt}};a("3fe2");Wt.render=n;var Et=Wt;a("4989");Object(c["c"])(Et).mount("#app")}});
//# sourceMappingURL=app.8ea38a84.js.map